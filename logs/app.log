[INFO] 2025/08/11 17:27:38 logger.go:35: Claude Code Relay v1.0.0 started
[ERROR] 2025/08/11 17:27:38 logger.go:43: failed to initialize database: failed to connect to MySQL server: Error 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)
[INFO] 2025/08/11 17:29:23 logger.go:35: Claude Code Relay v1.0.0 started
[ERROR] 2025/08/11 17:29:23 logger.go:43: failed to initialize database: failed to connect to MySQL server: Error 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)
[INFO] 2025/08/11 17:30:43 logger.go:35: Claude Code Relay v1.0.0 started
[ERROR] 2025/08/11 17:30:43 logger.go:43: failed to initialize database: failed to connect to MySQL server: Error 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)
[INFO] 2025/08/11 17:31:11 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/11 17:31:11 logger.go:35: Database initialized successfully
[INFO] 2025/08/11 17:31:11 logger.go:35: Redis connection established
[INFO] 2025/08/11 17:31:11 logger.go:35: Cron service started successfully
[INFO] 2025/08/11 17:31:11 logger.go:35: Server starting on port 8080
[ERROR] 2025/08/11 17:31:11 logger.go:43: failed to start HTTP server: listen tcp :8080: bind: An attempt was made to access a socket in a way forbidden by its access permissions.
[INFO] 2025/08/11 17:31:56 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/11 17:31:57 logger.go:35: Database initialized successfully
[INFO] 2025/08/11 17:31:57 logger.go:35: Redis connection established
[INFO] 2025/08/11 17:31:57 logger.go:35: Cron service started successfully
[INFO] 2025/08/11 17:31:57 logger.go:35: Server starting on port 8088
[INFO] 2025/08/11 17:31:57 logger.go:35: Default admin user created: admin/admin123
[INFO] 2025/08/11 17:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/11 17:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/11 17:47:18 logger.go:35: Shutting down server...
[INFO] 2025/08/11 17:47:18 logger.go:35: Cron service stopped
[INFO] 2025/08/11 17:47:18 logger.go:35: Server stopped gracefully
[INFO] 2025/08/11 17:47:18 logger.go:35: Cron service stopped
[INFO] 2025/08/11 17:47:30 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/11 17:47:30 logger.go:35: Database initialized successfully
[INFO] 2025/08/11 17:47:30 logger.go:35: Redis connection established
[INFO] 2025/08/11 17:47:30 logger.go:35: Cron service started successfully
[INFO] 2025/08/11 17:47:30 logger.go:35: Server starting on port 8088
[INFO] 2025/08/11 17:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/11 17:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/11 18:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/11 18:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/11 18:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/11 18:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/11 18:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/11 18:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/11 18:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/11 18:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 08:24:55 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/12 08:24:55 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 08:24:56 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 08:24:56 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/12 08:34:58 logger.go:35: Starting expired logs cleanup task
[INFO] 2025/08/12 08:34:58 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 08:34:58 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/12 08:34:58 logger.go:35: Starting daily stats reset task
[INFO] 2025/08/12 08:34:58 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 08:34:58 logger.go:35: Cleaned expired logs successfully, deleted 0 records (older than 3 months)
[INFO] 2025/08/12 08:34:58 logger.go:35: Expired logs cleanup task completed in 26.3791ms
[INFO] 2025/08/12 08:34:58 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/12 08:34:58 logger.go:35: Account daily stats reset successfully
[INFO] 2025/08/12 08:34:58 logger.go:35: API Key daily stats reset successfully
[INFO] 2025/08/12 08:34:58 logger.go:35: Daily stats reset task completed in 32.5621ms
[INFO] 2025/08/12 08:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 08:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 08:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 08:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 09:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/12 09:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/12 09:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 09:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 09:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 09:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 09:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 09:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 09:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/12 09:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 09:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/12 09:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 09:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 09:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 09:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 09:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 10:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 10:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/12 10:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 10:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/12 10:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 10:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 10:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 10:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 10:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 10:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/12 10:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/12 10:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 10:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 10:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 10:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 10:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 10:57:42 logger.go:35: Shutting down server...
[INFO] 2025/08/12 10:57:42 logger.go:35: Cron service stopped
[INFO] 2025/08/12 10:57:42 logger.go:35: Server stopped gracefully
[INFO] 2025/08/12 10:57:42 logger.go:35: Cron service stopped
[INFO] 2025/08/12 18:17:11 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/12 18:17:11 logger.go:35: Database initialized successfully
[INFO] 2025/08/12 18:17:11 logger.go:35: Redis connection established
[INFO] 2025/08/12 18:17:11 logger.go:35: Cron service started successfully
[INFO] 2025/08/12 18:17:11 logger.go:35: Server starting on port 8088
[INFO] 2025/08/12 18:20:01 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 18:20:01 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 18:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/12 18:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/12 18:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/12 18:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 08:24:49 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 08:24:49 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 08:34:49 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 08:34:49 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 08:34:49 logger.go:35: Starting daily stats reset task
[INFO] 2025/08/13 08:34:49 logger.go:35: Starting expired logs cleanup task
[INFO] 2025/08/13 08:34:49 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 08:34:49 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 08:34:49 logger.go:35: Cleaned expired logs successfully, deleted 0 records (older than 3 months)
[INFO] 2025/08/13 08:34:49 logger.go:35: Expired logs cleanup task completed in 27.7899ms
[INFO] 2025/08/13 08:34:49 logger.go:35: Account daily stats reset successfully
[INFO] 2025/08/13 08:34:49 logger.go:35: API Key daily stats reset successfully
[INFO] 2025/08/13 08:34:49 logger.go:35: Daily stats reset task completed in 33.9348ms
[INFO] 2025/08/13 08:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 08:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 08:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 08:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 09:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 09:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 09:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 09:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 09:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 09:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 09:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 09:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 09:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 09:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 09:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 09:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 09:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 09:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 09:41:33 logger.go:35: Attempting OAuth token exchange - URL: https://console.anthropic.com/v1/oauth/token, Code length: 48, Code prefix: IAR6KccPZX..., Has proxy: false
[ERROR] 2025/08/13 09:41:34 logger.go:43: OAuth token exchange failed - Status: 403, Body: <!DOCTYPE html><html lang="en-US"><head><title>Just a moment...</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="robots" content="noindex,nofollow"><meta name="viewport" content="width=device-width,initial-scale=1"><style>*{box-sizing:border-box;margin:0;padding:0}html{line-height:1.15;-webkit-text-size-adjust:100%;color:#313131;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}body{display:flex;flex-direction:column;height:100vh;min-height:100vh}.main-content{margin:8rem auto;padding-left:1.5rem;max-width:60rem}@media (width <= 720px){.main-content{margin-top:4rem}}.h2{line-height:2.25rem;font-size:1.5rem;font-weight:500}@media (width <= 720px){.h2{line-height:1.5rem;font-size:1.25rem}}#challenge-error-text{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI0IyMEYwMyIgZD0iTTE2IDNhMTMgMTMgMCAxIDAgMTMgMTNBMTMuMDE1IDEzLjAxNSAwIDAgMCAxNiAzbTAgMjRhMTEgMTEgMCAxIDEgMTEtMTEgMTEuMDEgMTEuMDEgMCAwIDEtMTEgMTEiLz48cGF0aCBmaWxsPSIjQjIwRjAzIiBkPSJNMTcuMDM4IDE4LjYxNUgxNC44N0wxNC41NjMgOS41aDIuNzgzem0tMS4wODQgMS40MjdxLjY2IDAgMS4wNTcuMzg4LjQwNy4zODkuNDA3Ljk5NCAwIC41OTYtLjQwNy45ODQtLjM5Ny4zOS0xLjA1Ny4zODktLjY1IDAtMS4wNTYtLjM4OS0uMzk4LS4zODktLjM5OC0uOTg0IDAtLjU5Ny4zOTgtLjk4NS40MDYtLjM5NyAxLjA1Ni0uMzk3Ii8+PC9zdmc+");background-repeat:no-repeat;background-size:contain;padding-left:34px}@media (prefers-color-scheme: dark){body{background-color:#222;color:#d9d9d9}}</style><meta http-equiv="refresh" content="360"></head><body><div class="main-wrapper" role="main"><div class="main-content"><noscript><div class="h2"><span id="challenge-error-text">Enable JavaScript and cookies to continue</span></div></noscript></div></div><script>(function(){window._cf_chl_opt = {cvId: '3',cZone: 'console.anthropic.com',cType: 'managed',cRay: '96e482d75fe8eb2a',cH: 'UuQKKyBl35lulB2SvtCvBbPWvWinuBJDm3P0Ut5iWmo-1755049296-1.2.1.1-MPG20_QTDCkX2P9cd7pinOpo6NoHMyGqCKi1fz5Wx7CZI76I5aVOQnuCfUzYvlzL',cUPMDTk:"\/v1\/oauth\/token?__cf_chl_tk=PsEfsdne4yJ1nMzbLsL4.MOJ6c6nEULjQZHFoET9xEA-1755049296-1.0.1.1-b_ONYHK_tEMKHfvF4KvPvMpBBnnx7WrCKdqnYQDYUAE",cFPWv: 'b',cITimeS: '1755049296',cTplC:0,cTplV:5,cTplB: 'cf',fa:"\/v1\/oauth\/token?__cf_chl_f_tk=PsEfsdne4yJ1nMzbLsL4.MOJ6c6nEULjQZHFoET9xEA-1755049296-1.0.1.1-b_ONYHK_tEMKHfvF4KvPvMpBBnnx7WrCKdqnYQDYUAE",md: 'PoSGntYyycytmd36BmUa2uXvZ0uqWBU8xnJnBSJVlcU-1755049296-1.2.1.1-LvMiVyQYin8Zw3mqfPLjzpxrjLltxHLPqdtIeFVVHi_5VhzBeGN7lDJqh4ty_JOngdHZHQayopZdwefv6CAM0zDUR8XHDcWsaMZKoV4M_6HKD8eiOojmQm2Y3UnV0h9S2r4jUTe2UkF9wTm4fhaKZcMO9kAjuxkQBwIlvy3eSXAhC6MZRGA84qGz.0OTACgUcjCixUubuHcXvqFeWdvsjo73cV3Ell3ZXOUf3rTm6tvMVgqO2wXbztrajwIQLu6aPUcYP8yJr7jQJw_GvUVnBX7IWMNk0hiH4PeaZtwcyqV_kPHdFBh6zDuh4YQvLl_kXrHTM93vh4v7tJkhMFoDgWzCJTXvjtY4tQ71FJtm5hf2_afY7UCXNkgZszB.ye51i1_VGB.gZdgt9xI837pOKqpauK2lZ9zjzZDrp2Ta8yniNR2NqtBAaKhIOqzJYC7UfvxZDL5Gwd786SU4sJHgyo9ajWcq0qMkp0jr2tCCeJyUZxM4lOa9u9lfp6Ev.HtSOwoo9RVfaSHQinGi.YXZDFHt2EgwBHv3Qh4ZCKSGAIP.9Uu.yyRH.DG67JD7FGVmkYVoEW5fUUoQusaVxISSXbuPdGI7ncZZWs6GL7v6d4J2TMOMxhZyPbU4x516Cif8Vq93yN9LX983XLwZ84HhyEJoRVHZJsvw.GXmpQYts2T.00qRaXpDSz58zxPyCvguzfP1qrFgJhz_rr7BTg8fZcYrBpJBUybuadDJHJJRA9PuLQaTZjgx66NIfcaMuIHC6A3dOPRbsruxEsl_HzmGHWjvt3ud1XFG9EKMIA5wT1Natq4VidwS3U3DUaFy0JnThTzGzWeXYAqHpaVlUCEe4afqG60TgXEpjoQn4MfpJf8wUiE90d_UZVo87mr0He48x0SppBoeCGjR53s4c5eViC4opGNb1163fTa3J8de.tVhVrZdWVsMpQumLu7kpzOJDBcUJZIB3vHvLobwYFDDKN.ZAT9iH0tTQ1TkmaN6_tSeUafxjB6sYjL4cM2_BsZo',mdrd: 'z2W_jvXnF3pRnMWgYcp_1XhKwyMSwvhyKde9CnKpQlM-1755049296-1.2.1.1-TcMrjxtc6TDAEmWxmC0AGVOWN_r73XJUxh4YZkEmBQjuDAs8gEyr1tBaLJLwq2VFdp4.be8AYmNX3sDEND18a1Hk4BYlzP7p6fhAWPjALMbAmhvrQCtESH1RVTN1D_c9K373YmUZRCeB41lPfFZR_sPBVt1mYcpnZr_tq31jyfn1jygdmk1HNkYW1SQZfhkmeosYAG3cxwOL4_rG5FjLP.nsh7QAW40C_3LSzjZEdbrCmG8hFtyvhLK9S973czVYj.cYIusqcKwlZpuJv2WACmfhy_l.Cv3REM5CO0GV23vsMciDopE4j28aPvIfLQdYCgXwk0OGSqyG8fhg47opJ9gRFYhQZ4mpHf4khmypjwj4AT2S3kUVhvzNBMIvhvZyjbq2C2HmSdBHMWfF1t_6qssMw7mHVy8Q_MoV.nu1PfQG.HlwFu7yGpVGv_o5numNiENy8PPemqo4unTC9vt_q0zmKV1tVgnrlrECyk7gGQMcjSHej0SW8n1DSiXZL2NHC044V3ziLrTsXwFvDeoweIbUzws1cETEfvF0U0ANj4Wah1YrFtuNG_mzZUWlYYLooRLMmkMJapvgjm7jK8jz5_CAj3kPI76AxbsH7nRQh6MHkcxeodMdCZuCN3f2Eo8ZQxwOJw2_xlUyJIwl0A8H6DD8bm2QDaZHhVpWYooUK6bBnfxjXDr.hh9s1Sg11p_wW6ClDFoNBRntAu48rXUOEWwggYPWcnJ2ygEo9rBNEYolSw5zYZyBGGnpIPeciG8pweHXlWMHU2qjJHkuIh9vYc7YEyhx7NTkESrJM4ZhbGaiE2pDRSsvtIIFpDD2nI.x5Bw87JsRX2MSLcGWmXSInJhIUxh9nyhe_mh_kBFWxncaUPXtRaXd4NXPNqcPm.Qlie8fK8fcGL2FkL7krXD_6hGTYzraraRpI3l6..P5rrrochy02AX2cmm7U84V9PcuuzjHbbcxXCEURmaKhKb.LKXw.TqvwMCHpJGpRcRPfwibKtPuseudFP38gA1RjEPrdEDVEZ6YaUmYehj16_JsG77vFUJ.vL.Kj0z4meCaS1SmVNYtfU_9RH.2Qr7pb_HbojdtyZgFIlS4M.G1HFx5XdqrGDGOYDO2.W6A6k_elj0CpYUcOT0Dl_3QYzg_ab9ju9Ol0rbiIK4mXk4ZK7vx7PBgZwYsnrZSbz26OAP__BFTYu45iAj7HMdd5O2fLV.I_yXKXgxptsu_yUCT9aZhQJA0NON8HsruNHfCJrmG2pIf_yZoA0F1QlvYxArt0CoukaunJb4Uuq2jx2Ltm7N3O.g8dYyim_lHgA6xnWQo9ILBriHQhyDWNbjeChLa9_.qX_P0Q7ny9dklJabCxSUmHL9zmPgfH86KfLy_5IbAk8RPqQtxY2fPeQ8bdzWlo.9oMu.uQyFq80GKrdlkg3WWoMuP5tfuR.YVU6CuMjU.N1mJ.HwNDFkmRZfOoXKIf3hWqWMnS1dTAV8VLJrM9F0tOIqAliLerXFpMCbfo_LOY82SVcc_NCJfQzSurOHPLItzxHqwZU4t7bqjPkXT2Vns0xUZdO8a8V3AsjGDg0yqrHq2R.I1RK50LkuR3DdbvNvAmE3UxdQPBPNNkIYBCBHzFiAmTiaU9nZdBH0KZw7_NclEuRmH.KpLo1RfdyQi3kY2ivHhXfGos3LdlU4hCX.k2pdeGuBGylOLnEKPoHN22Kj7acK_UYNl02Aady_9q_Z6aJDAuFCHcQU4v2uK5oHJlwEyPmXRRZrnqmqBl9zAeriof.DsKhfs2pmjW2Ds.CCHY.IsZjKMphO6Hc.jzuCLYYf9dH2pC8aJIPi7RGuVhq.imObbkc1uixBbZRoAHWI_y4QVOUsb48MblM9umtR4tWwhH8XXdR1YTOEV9Rutm2C.oWBZ6ctbDELqZeMfMafOunYvEBhG9qve.S0azZjcCXzOo1vjZ38HJtAQXKanWIqQCOHi2Mc74FTqNPrnWZpD7IC0.ZOnRLzNVSmSAbgy7iYtnYQZ8aP.5lLgpasd.BDrvSDLSWI.4uHmjMyYoemp3xxrC7s7E_yPMpjUJglVdPuhuTUS.5.paY9hTpHEOsJbb9xoMRZNYHA0KLcaAg6idkuROEmFIGrQXQ1KaT4dNppC3uuo2hfeN2sWYs_qSzOLg7wp8_BkZNO1af.JC1sjAP4TujAUy3fUAR_TqsvHqjec0A4bK7nhEhBZXmkxT.8IIIMpmTXbFcNKNrzoPeQHeEI0VndD01zks1UYyPv1xsYsqb.IeIMDOXvQIRmcHDcKtEKZDnYH3nEVEx9TVN5Mez6rI4BLC5hy6URSBbKoxxOu0M8c88euPqk8FfMWohlyq_3hposqOio1q6e4r3IvQlvJ4mW19zRoXLsEqeQGGrcMad3fk3HugE_.vyRQIg.a8L6z7YMABR_Y6WZEoqH34d1FByZyJHpp1I29.di7qBCFHuvQehaMqP4BDpk.6BPKM93CL9.CM0kN_owth8zFcvsQo8Nd4HI4Bw8qT_pMIVGZR0s8WZHf9fP83q8rIem4hX08CSjQJT1am3IBhsB9BHJ0vhHrK3JPCOO_LaatPXgtoqpX3O_8WrxEIr4Qh_3YRJt2.NLYKAArjKmMM7LsZibhNW2PdvooqRM0mrqIUj0FaK_e.f7p1XmAfaECqbqPGX97K4M3WwvsgJpHgZkHjOp_JEpPHj8fyv0Bqncj0w',};var a = document.createElement('script');a.src = '/cdn-cgi/challenge-platform/h/b/orchestrate/chl_page/v1?ray=96e482d75fe8eb2a';window._cf_chl_opt.cOgUHash = location.hash === '' && location.href.indexOf('#') !== -1 ? '#' : location.hash;window._cf_chl_opt.cOgUQuery = location.search === '' && location.href.slice(0, location.href.length - window._cf_chl_opt.cOgUHash.length).indexOf('?') !== -1 ? '?' : location.search;if (window.history && window.history.replaceState) {var ogU = location.pathname + window._cf_chl_opt.cOgUQuery + window._cf_chl_opt.cOgUHash;history.replaceState(null, null,"\/v1\/oauth\/token?__cf_chl_rt_tk=PsEfsdne4yJ1nMzbLsL4.MOJ6c6nEULjQZHFoET9xEA-1755049296-1.0.1.1-b_ONYHK_tEMKHfvF4KvPvMpBBnnx7WrCKdqnYQDYUAE"+ window._cf_chl_opt.cOgUHash);a.onload = function() {history.replaceState(null, null, ogU);}}document.getElementsByTagName('head')[0].appendChild(a);}());</script></body></html>
[INFO] 2025/08/13 09:41:35 logger.go:35: Attempting OAuth token exchange - URL: https://console.anthropic.com/v1/oauth/token, Code length: 48, Code prefix: IAR6KccPZX..., Has proxy: false
[ERROR] 2025/08/13 09:41:36 logger.go:43: OAuth token exchange failed - Status: 403, Body: <!DOCTYPE html><html lang="en-US"><head><title>Just a moment...</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="robots" content="noindex,nofollow"><meta name="viewport" content="width=device-width,initial-scale=1"><style>*{box-sizing:border-box;margin:0;padding:0}html{line-height:1.15;-webkit-text-size-adjust:100%;color:#313131;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}body{display:flex;flex-direction:column;height:100vh;min-height:100vh}.main-content{margin:8rem auto;padding-left:1.5rem;max-width:60rem}@media (width <= 720px){.main-content{margin-top:4rem}}.h2{line-height:2.25rem;font-size:1.5rem;font-weight:500}@media (width <= 720px){.h2{line-height:1.5rem;font-size:1.25rem}}#challenge-error-text{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI0IyMEYwMyIgZD0iTTE2IDNhMTMgMTMgMCAxIDAgMTMgMTNBMTMuMDE1IDEzLjAxNSAwIDAgMCAxNiAzbTAgMjRhMTEgMTEgMCAxIDEgMTEtMTEgMTEuMDEgMTEuMDEgMCAwIDEtMTEgMTEiLz48cGF0aCBmaWxsPSIjQjIwRjAzIiBkPSJNMTcuMDM4IDE4LjYxNUgxNC44N0wxNC41NjMgOS41aDIuNzgzem0tMS4wODQgMS40MjdxLjY2IDAgMS4wNTcuMzg4LjQwNy4zODkuNDA3Ljk5NCAwIC41OTYtLjQwNy45ODQtLjM5Ny4zOS0xLjA1Ny4zODktLjY1IDAtMS4wNTYtLjM4OS0uMzk4LS4zODktLjM5OC0uOTg0IDAtLjU5Ny4zOTgtLjk4NS40MDYtLjM5NyAxLjA1Ni0uMzk3Ii8+PC9zdmc+");background-repeat:no-repeat;background-size:contain;padding-left:34px}@media (prefers-color-scheme: dark){body{background-color:#222;color:#d9d9d9}}</style><meta http-equiv="refresh" content="360"></head><body><div class="main-wrapper" role="main"><div class="main-content"><noscript><div class="h2"><span id="challenge-error-text">Enable JavaScript and cookies to continue</span></div></noscript></div></div><script>(function(){window._cf_chl_opt = {cvId: '3',cZone: 'console.anthropic.com',cType: 'managed',cRay: '96e482e079d0eb2a',cH: 'Md_3O88O08IPaEG_ySNurChmOBsywV_QUbncRMOcJRA-1755049298-1.2.1.1-yWg6.59cUXT8lmd0FQkC.F_mhe3TYhImbDUQn2Uahl.cfd3yfldDVEKM9qePeiFI',cUPMDTk:"\/v1\/oauth\/token?__cf_chl_tk=XeWo4T4OxOyke3vKSdkVvVD4CKFsJCHCVUIbTw1810Y-1755049298-1.0.1.1-YbH7Jeq0HhsxkNlRBJ9QL2cYvp0q9Nur1RTRsnjHb3Q",cFPWv: 'b',cITimeS: '1755049298',cTplC:0,cTplV:5,cTplB: 'cf',fa:"\/v1\/oauth\/token?__cf_chl_f_tk=XeWo4T4OxOyke3vKSdkVvVD4CKFsJCHCVUIbTw1810Y-1755049298-1.0.1.1-YbH7Jeq0HhsxkNlRBJ9QL2cYvp0q9Nur1RTRsnjHb3Q",md: '_R27mkW_Oz0yiyndHi8oExfeww7iVAZzOmwsx94Jtk0-1755049298-1.2.1.1-ZXIBJ0k2wQphpsE2EoUwzk3MzQcW5oCvxSLOu.DjZqzPxQiDwh1q3UOC0vJ0fUt.tl90wVp4HV5CnNNx07PphcacfRlIMOsqZpgeI2ekRW5v2KVpBfokVEsBbCW.uhqgquYJcGAMO328JaXqhZ5gxJMWBwKX.ksLr1jU00lVmX7rUnZVRpggW0E3Bcbp6zBCDggwXH0VYYbM4t3OvMvWn4FRYcD1lLXhh4sDzGwddeKM.8xKL9CqlL1Rvq50HjuSg29nexFeHwwNdkrZKlDL7kEg0xonUCGtO9Debm11wV5rgNs44Hdx5skZWAIpDO4lMmpJb8s5ajdwSXatBwNm5F8dxlEUnQICzU.be.FjxYBZnnSaTdkZ_9QWjjqB0S9i0RaaKqw7577AqYVeD3XepWprIWwrYVylm.cUH2tgffQC5U6QfP6Ujgwn2K_uC_gf8yibJVeFNSHNtCuAaB5Aa5J2G4GRnkgdiSKH0L3MV9maXmIhkfw_l1GI1xIJRLCfAQ0L2ZUgdvf0vt2buudWOqCH8Z1ZlpWMDsu5BU01J3z_dpri.EtSYV94WpImYk9PSQr1LYodUabFsmpJPHgez7r1u0ojF17gVH7onvL.OVt0mjutzJTe58ScO.nyelIbIo9NR6ajkv4VMB9VrRNQEzyne7oShhrbcTZAggGs5NYoCVHI5aNBKVivUzVG0ZltFyBSNxTZZjco1Jt.i46Wvpd5wcrYAPRIuvD5HPDa1GJYDFtbHTWgb8yzkfMhzCMs.UQB3JW0gjrx2lSWy71qeihLgrVGZyMYGHbzx1i5cml2kpPhtvp0fkDNWDc.WMJxoczrM8K.CN8qGoNt4HrWrouqkkCyfr4xEfqTW2ZMEaFwvNitQ8SP.ll4pTwmhvRcmWhfc74lo1Bbim4BwLdWiMOgayHuXZbCIPr_kobWeZTIcnlP.6ZAyT9bCOVRxcf.k0KDPIDgKYCpTcgVOWuMmIxEbyRG0L2sVYov7VH7SETLjGjgO4kub1SOTycsoW9o',mdrd: 'yEAV.fA5YSyqiAJG1mAR9JJpSFFidoIiMGUq2XE0Pv0-1755049298-1.2.1.1-AOM7DO8Pyre.k5fqcHhZrVUOQBuns2oVq4FQIAsNOrk3kkupKFJ5SeKvmXIrrc0KSmN.sjLj5qOpLk9_K76gJqQNW1Dblg92smspx0xtEr82kOx18CJZamPnQnTt3_25fv4KAbK7FKIyRjMbr8g7koKOMGTJkzqKsrfOu8P4CshcPljms.E3jSEIawJ2FRpZ8Tlx87lmeAe3573fchOzpDyU9hF1XH7oENYTur9rsWB.kbe4wWEk40g5R4g1qIK1FCHu4HQgdPUUtk0uFE7UYRuYAJcbgf8tOY62nsJjglNFCWMljRukjxRLlc20n9G68l7sQS_11AfvQVig9xCNPIsgaf_nyVzVZSdvELHgzZuIlRnKOQu6lqdyhLAbl7m9SPmrP8dld.KZNS4hUAALnTe3idkVVbXNIiJkHiIh.VvmVu4HTPsOW2NavTyAlF4UVaM1CeaWzZ0cWdyBgfvmT.oLLqkvf343R4DnI.jtmJZIqgl0oK8PS07Qs14uomvYXLqVhdmbAPGHCHtPLpL_0RfwH2Lb44IUT9yWJwczD8Dg7aHo0Xlz6HO78UAJFSiv14uGg7x81vNMnJME4bnsoXT2KSWXi5TBvZRIMwc2rRS8gezH5J73Qk5cHcg0KtcFI4tJLX6la6aOewIJfkZ1w14bJtdtClZ80aaVZFJDqYjFvgKxxlixO6JcsT5x75FCloiOWagAb9kbj.5_NPskCK1SaySj9wsCIRhPDJKCPebeboqqUWDTPgxoxAUniiMxqzksSJtJAVSri5fo1zHCxKAIqAtDliMeySj9p4FzvQp0PX0iS0s41QBv5ApUn26R4XXdLoiWBUzAfiYoR.PZ5JcOFQnZtCGVBA6_jWLF6XHKFEFK9cr62700l33cdn8PXc_39Kq7wuuQJpzA8xU4QTW9vux9F3ZSu5VDtGlyrx4kMZ6HGyoOEwHSAcWmhdFkmeDnpBFVb3heMdkVN6qMVRmbcAdV3XbHa0L6_r_sUYl8rm8Nww05bW8PjCL4SUbxkqJ55rRMH13nxlvND.40DJYDJaYetrpjrtdGzb_IivNR5gCgcTDUrTbr.6qKGH8PUgDlsb2Vn5OdxGTwHqKt8CFWaii426j7yJaN6zZ9_yqTajeEjBto28chPiybetEfY9B5NC4I2VS_rzsUBMQt.NCUDUbr_.tlJTJIQE.0p3w4yChlGchfdqtDlR7czJ.wjTMiwkRA8juTKogoza8gGO2WRQUg0TzswfLamXPMz4VJN_hUtOIewBTqsXggGtr0j53xXJypdzYvHEwe.yt8p6FIUCrW_qulw.b0cG2TPZQ3hYAeg2.t9NW6.tTvW6VblUHL8MBruuaY6oegsh_GlGgHz28cqjhWCp5yAcsxS22MM8ql9YwEpeZIIYyxBzT3BpfZezh097BNQYc_AligfcC1C3XVwNv8PNWf2ehTAG.6f98LaGn5MgRCK8_pHo0zNl9c5AoN.40zsc7ktQJte6TwqUa0XKUDTXRMzc2nkTe3JOWsIn3LktEQh6wUVXUmna_JughV0f9EVyoSoXJZQLiH8IP5mjrONIUg26uqYIr5lHuZQUsRB1FP0a90FtOn0hHhhBQc_JfT0l0vhlq9pT3r4O.BU8pudPCOMnzv0BMaEVkAsCnM6mROF0PEAf9Cc5tAf.Wv3TgYHLBn5vb3sBHaXNDjSrM1KtXeNZPoXohLlcvyVYJ62y9aH5bjjr71101TQ..mGtKvGTkYjfo37nTYWf6efJQoJVDY3N3WigB9B0QKkwc3AQMwtFg9NUyabgLdHlkly6YkH1hdrGAv7CxusK2tA7WBJYrBNiSY0G.1tCQ2Vdiirzmfqps8Ms4ocxBwq7JvXyKEjmfeYOkAQwP5.Uj6VaMlaQWO_ObgzTSVRwikzzBbJr4bzFhRcCgi.GWMoeGIHilbAdhuzcNylaMu8XTp2uqHKF.6vi7fM7.dvPnoigr4I68rvUfT.CC.NX7uq5fc6stGHfY6i93h2ctty.Kf1RAOIZ6D7Ij2UeebyvVIkq2UrhVtVLATLzL3Zjcu3WnsdCKjlrsZUFSBQOaP9zt3qOi.ZoiGlluJJ8o1gzxAae2Qg.jtO4bv7EEYOuInKoybtBQFm_g4_41lXesc8Sw1j2cvtWqimvogiyEwseQL7OkdsQ5TB1eFMTqJAtXzH8vxoUHMOxvq8y2aVKm4XYIzVzhaaB.HSCf8Y4XfjsEjlMZnv5xY8yVMNl2QFLy5AlTasduzdARg5RrciJFaTH3psMLBh6VIj9oM8rmORI33dUrXw7bPOqU2tb9RXwQpQiPGXe13CY1P4F5XCggs3ky1SDmLskqx8ceFT2.q86T_gG5J8nfXxYEFRZBt4xHqJzNbHNV4lAuLm4MSR14NdTkhBbKUMbj.vnxU31I',};var a = document.createElement('script');a.src = '/cdn-cgi/challenge-platform/h/b/orchestrate/chl_page/v1?ray=96e482e079d0eb2a';window._cf_chl_opt.cOgUHash = location.hash === '' && location.href.indexOf('#') !== -1 ? '#' : location.hash;window._cf_chl_opt.cOgUQuery = location.search === '' && location.href.slice(0, location.href.length - window._cf_chl_opt.cOgUHash.length).indexOf('?') !== -1 ? '?' : location.search;if (window.history && window.history.replaceState) {var ogU = location.pathname + window._cf_chl_opt.cOgUQuery + window._cf_chl_opt.cOgUHash;history.replaceState(null, null,"\/v1\/oauth\/token?__cf_chl_rt_tk=XeWo4T4OxOyke3vKSdkVvVD4CKFsJCHCVUIbTw1810Y-1755049298-1.0.1.1-YbH7Jeq0HhsxkNlRBJ9QL2cYvp0q9Nur1RTRsnjHb3Q"+ window._cf_chl_opt.cOgUHash);a.onload = function() {history.replaceState(null, null, ogU);}}document.getElementsByTagName('head')[0].appendChild(a);}());</script></body></html>
[INFO] 2025/08/13 09:41:37 logger.go:35: Attempting OAuth token exchange - URL: https://console.anthropic.com/v1/oauth/token, Code length: 48, Code prefix: IAR6KccPZX..., Has proxy: false
[ERROR] 2025/08/13 09:41:37 logger.go:43: OAuth token exchange failed - Status: 403, Body: <!DOCTYPE html><html lang="en-US"><head><title>Just a moment...</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="robots" content="noindex,nofollow"><meta name="viewport" content="width=device-width,initial-scale=1"><style>*{box-sizing:border-box;margin:0;padding:0}html{line-height:1.15;-webkit-text-size-adjust:100%;color:#313131;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}body{display:flex;flex-direction:column;height:100vh;min-height:100vh}.main-content{margin:8rem auto;padding-left:1.5rem;max-width:60rem}@media (width <= 720px){.main-content{margin-top:4rem}}.h2{line-height:2.25rem;font-size:1.5rem;font-weight:500}@media (width <= 720px){.h2{line-height:1.5rem;font-size:1.25rem}}#challenge-error-text{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI0IyMEYwMyIgZD0iTTE2IDNhMTMgMTMgMCAxIDAgMTMgMTNBMTMuMDE1IDEzLjAxNSAwIDAgMCAxNiAzbTAgMjRhMTEgMTEgMCAxIDEgMTEtMTEgMTEuMDEgMTEuMDEgMCAwIDEtMTEgMTEiLz48cGF0aCBmaWxsPSIjQjIwRjAzIiBkPSJNMTcuMDM4IDE4LjYxNUgxNC44N0wxNC41NjMgOS41aDIuNzgzem0tMS4wODQgMS40MjdxLjY2IDAgMS4wNTcuMzg4LjQwNy4zODkuNDA3Ljk5NCAwIC41OTYtLjQwNy45ODQtLjM5Ny4zOS0xLjA1Ny4zODktLjY1IDAtMS4wNTYtLjM4OS0uMzk4LS4zODktLjM5OC0uOTg0IDAtLjU5Ny4zOTgtLjk4NS40MDYtLjM5NyAxLjA1Ni0uMzk3Ii8+PC9zdmc+");background-repeat:no-repeat;background-size:contain;padding-left:34px}@media (prefers-color-scheme: dark){body{background-color:#222;color:#d9d9d9}}</style><meta http-equiv="refresh" content="360"></head><body><div class="main-wrapper" role="main"><div class="main-content"><noscript><div class="h2"><span id="challenge-error-text">Enable JavaScript and cookies to continue</span></div></noscript></div></div><script>(function(){window._cf_chl_opt = {cvId: '3',cZone: 'console.anthropic.com',cType: 'managed',cRay: '96e482e9192deb2a',cH: 'xa7dDuLegRmxgvfI4rHm9Z.zaQcD6anDjYEEWvRNVhg-1755049299-1.2.1.1-ma0oHjXkX9.5_yG1osJDW6pWeyPes7ojVK.ng9pPgNyfmsUYuRTo0QDPlKDPwriI',cUPMDTk:"\/v1\/oauth\/token?__cf_chl_tk=.CHqS5_Ex.f4j3AdBNNAHPB6tODuBD1fyQoHGXjN2fs-1755049299-1.0.1.1-X6ezqxc2ilX7NqI1kpzeM9xFUMVFx9REftvYCXX8gbk",cFPWv: 'b',cITimeS: '1755049299',cTplC:0,cTplV:5,cTplB: 'cf',fa:"\/v1\/oauth\/token?__cf_chl_f_tk=.CHqS5_Ex.f4j3AdBNNAHPB6tODuBD1fyQoHGXjN2fs-1755049299-1.0.1.1-X6ezqxc2ilX7NqI1kpzeM9xFUMVFx9REftvYCXX8gbk",md: 'xHYzk2ufYrKLnFawcjqy.36FO5epF7bDvWh51CauLAc-1755049299-1.2.1.1-bni.fll0U3jJjkoQCWCciIXaCqTOFpGVc6w026Sc9A3DuIIZPMhzEhJIQwfz5N2WCJo69MeHx3ZapWgpcIFBSQdjQxY4.cJBFMAI3Efjo8Wu8Fp.mctIyvt2BwYIysr58VS667oisrxsvwkmGW7DzNiIpDTKpM0_AmyeDM2HM3oQq5ezsS.5XiaEcDRLF5ywWb9c2OajfmwPS23cQB7C0Qq.R2Yptjdam6KGeFUZBmTC7LPj3di9SUFDj9jyyYmS0Fe35hqBaK9zVRHn0eRwjFsgaXiNOi0Di4VQJ.uib1NText0N4yQuetQrtFsMMBKkeF7Iqj1PXmGJSB.zXytt7De_bzhMSWJQiV.tEfy_DDjcqWnWWM2FlCSe070ymuyEllUBXNyjaBBG47HVJBiXkDQYkEHj4GOZT3Ptwg0kfmYvVP8u3u6pGUzQddgs9sQMIAvTGJ9a.Nmr3WZS.SId2rJVhrQapwIHbmJySsseVJjlRTO0hpkC3eb0E.g2D8ek7GkAxdKr5YZyRUoFh_4BuR6ZUOBvxh2h.H52yTtasv3CLmiOyGgB.vXMzA_4UdcSQQJGas.8.Gs3.E_8wuOLurPd8u9QMvihWbUXBMyLN.jP_1Xi2ur0nFFRn_K2aRkTLvniBevpNaZDTPcVayH5NdB3CHDsZAq6QjnaBCLKbc7NP2_vUuQAWTxBByr6woVW4sO3j3D2BDgutE2wUu1N_TOkeGdGUcMxkb.S7C8rCRnrin_c2ksH5MLFWKHRd5Knmxz9Rv2sN.uHHMBRl0Bw8dzn6B8y0jgFtZGFExIdner_BhyE0hH5y7o8dFGkCARbV56TaB0woyQ3rpGj11o_EARZJdGK2IqNa4BThxsNK5cBA.ngxu8V1IJlll4RV28LDDBQoGnS9Q_xea67CA8OzlE2AO7BfGQwN.2lUrx9rYX_eZz_5untq1a5lrcDTAsNhIvFNGBuYgC_IiHt5be4wqpnrJhg9_B5atk2Xd3G6I2HaxiWXCM5uJnUZ99sP1Y',mdrd: 'b_IQ39dFNSGrKF_nRjjgRHv4vOf66Zi3v00fIcLjWd4-1755049299-1.2.1.1-Nh.I4XYvs2iiGYGkaQLfV5asGhR.JoMzdEFMDCMERUN8kZoFDilyfnD.M8bX9RgVKrd3aZsWTH9iLESXnIk_646vyUWTksHWg5NjyW47xEf_UoISfF7yartqBtSNbu4qU0DD96HpvylTfsd_g4aO6dfNwAhBPI9t5R4peJHHaVXBQUzeXmXrkIQZUmNxEn09LnDiGZtBU2oUBmgMWZjWVNrj_HWGG.v1g7HDSUo4uoVhDAeP_MUrPxyjg90aivo.cbDeIl5gOX3Y6U2osrzobXjCAeanHaEYA3gaW.rVUec2u.WhPxu0oKIOU.8RG5S7WjXPHCATZppF.wyakHkjRSBWylyV7SUUMMBVHkpuM2mRzXdpu7gVPTe.yK_HwQ4iEGxaXwO6XKJvpYmBDblyyjY6Qg.FoJayWZeSM7ZuC0A2bN8EW.xJM2VAfcyBYs0UKxepTcMW5DbK.tbYynLMUCLEMGe6Sya8SELNtmD_Eo6gaZJo865vkNhQ.bj8VUAr2_CUtpyohZOQjiBQhnGciKpawpPAJ6hS7lMxgIlb1o2_VpuP8D.gD659Ph5HYAx1iuQWa1PucALo7y4h5OVPA4APtpDnQWtYj89uE7NAipSOkUiOq86O_hnU4tlvTh48CoKYyrWVlBqF20WDeXJ950g8uAkRvj6VnD3bjTwEOAdzYMjFdxEOemGc3NH.J5MeWxnsFXbSxcaJ1wB0xf4mQsrOGrTRw.U.Mbh7vt90d54c9PwSeOMOpxL2plIFzo1IrPsqrBFzcERLjyLWwZJk_DH.Y6v9oeH0tUc6oI5qemLzV97CTUowoY3GuI0.gJsCgOUZheY._56kDavvn5csiWK6BvpDRpdqFthMk3yRPUhMtNYdbvNp6MccbbhRDqVWeLPUVireArksLbJ5tZOhpEgouN2El8FEbL0hgbTigtxZOB6ifTTkSyV86Ql2xYcOZOVBn1gaHZrfSBOcOyOYwDuvK1j68zKarwdgKuO7mo80ZKCVQHgHFrfT5ik0TNaiiSeOFySFwHqGcDJxOJFl6DpbDSnjnmMGvU5Nr1AJiT_rBzIsOmPrv8pdWjpH0jCO13VdiAK8z1IXn7NCY0t.0dWAVCWwK5DCOWtGGfNtOOtz0yLoMTbQN1qYB.Q6cEGOlNYHdIiVN8.kUNHUXFvYeTw5bg56rQDDltp32e23wkYneFsqksfj9Fk_YBgCl5E96N4XJUsWaFLyd4EpoyRT2w7Lqp_zfoGOzV9f87kIEhlxFTJxZLOLnZ.fPX9eyqpxqkns_mr2XLmbLewHnzdFBy4T6.X7PMTgFtOAYD_YIF.7BE2vefTG3uOuVjeLcHclcB_VbMawsWOkk7Mv095SMF60hM5SFadFTKOt3lWbBGIjiq_711WIraYT9aiAURqvQIj5EkYdHXCe5gBsl3hz.hCcj4BTF0FHWw6VkmezpVF.lBVrobBcpibUxWHJ5LoIJ1y3UuSUj5N0l6sDDSkRU_uXjfhdFBCgzBZ921JD86NJHHsvZCO6sADRxBsvDlBKcF1Zx.rhIrJiwlN0SyKdXGJWMTFwwyJeTavgjnow0uEMGGgIAJS0XdTFNmTkHiQ3kSjczw_bXtAhKKQq0NEhlB1hF2bkw86yZjIfqzzrlfEu7maYUIac.Fw5wftKU1C0m7t34GLsLlFgKOgncSRAlGXXQ1QtIUETPxnH93SNAv9QGT5YF1ABFXU1EXtSegLLOKMegF83NlmKLBAoAmouYZT0fbPas0lTRbDWYK4omp8JMFFMLZqM2O7pre06bGgkTnzkuvR3v82Grq1vLpkufPGmVJRJQ7EBklrAskTsurYm3Vas2DVduyy9oWbaNXF6feEzxi9ctjr3L02ItN_v3FPe2cabkGalzv2Q4BdHYsuI.fZXl86j5B5LrDwfq9fHljYMYZD.mZKyndboDiWQGUveQ1q9yaU5EWaDKMh3TPbaM0C4825kfWdaGgunp_qN67Vm29B47yfSpvDAz09.ohDgIjIg72IZhPKApM7e6KMltKVIXbZ5P3eRcwQyuSeh.gIzp5grC3C17mEZ5qoQ0dvLx5.Bw3c6hTJdtErMGlG3ap3bMMmTr5DmsrLhEQyFaHwVUt1MTfGe8mvbgibRI6Us3kvbifg9tDw4mZ1NbziGpnXmpNuyP8lELx.RlifCqs7D9gRP3jVa_e6509kZLKeeUTcahDYjLO4_.fQJJL7OArmppPUTOtUQB6TecDBxVJJppk8ZIeI80QDLIFVDz7jUABzR_JriglDkW7ohRvnhd1T0W.RP4Rp0Y4fEeSwF.Pu9l2EwM8FL1AcxCbIeNH_J.3nhlKZQOa4RZFgJCyeIzem_v2VEwYwPhxi1IHFlwNbDyo1R2nkLByczmgTKFeufECtJz64zG8KXzSF8aUQ',};var a = document.createElement('script');a.src = '/cdn-cgi/challenge-platform/h/b/orchestrate/chl_page/v1?ray=96e482e9192deb2a';window._cf_chl_opt.cOgUHash = location.hash === '' && location.href.indexOf('#') !== -1 ? '#' : location.hash;window._cf_chl_opt.cOgUQuery = location.search === '' && location.href.slice(0, location.href.length - window._cf_chl_opt.cOgUHash.length).indexOf('?') !== -1 ? '?' : location.search;if (window.history && window.history.replaceState) {var ogU = location.pathname + window._cf_chl_opt.cOgUQuery + window._cf_chl_opt.cOgUHash;history.replaceState(null, null,"\/v1\/oauth\/token?__cf_chl_rt_tk=.CHqS5_Ex.f4j3AdBNNAHPB6tODuBD1fyQoHGXjN2fs-1755049299-1.0.1.1-X6ezqxc2ilX7NqI1kpzeM9xFUMVFx9REftvYCXX8gbk"+ window._cf_chl_opt.cOgUHash);a.onload = function() {history.replaceState(null, null, ogU);}}document.getElementsByTagName('head')[0].appendChild(a);}());</script></body></html>
[INFO] 2025/08/13 09:41:38 logger.go:35: Attempting OAuth token exchange - URL: https://console.anthropic.com/v1/oauth/token, Code length: 48, Code prefix: IAR6KccPZX..., Has proxy: false
[ERROR] 2025/08/13 09:41:39 logger.go:43: OAuth token exchange failed - Status: 403, Body: <!DOCTYPE html><html lang="en-US"><head><title>Just a moment...</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="robots" content="noindex,nofollow"><meta name="viewport" content="width=device-width,initial-scale=1"><style>*{box-sizing:border-box;margin:0;padding:0}html{line-height:1.15;-webkit-text-size-adjust:100%;color:#313131;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}body{display:flex;flex-direction:column;height:100vh;min-height:100vh}.main-content{margin:8rem auto;padding-left:1.5rem;max-width:60rem}@media (width <= 720px){.main-content{margin-top:4rem}}.h2{line-height:2.25rem;font-size:1.5rem;font-weight:500}@media (width <= 720px){.h2{line-height:1.5rem;font-size:1.25rem}}#challenge-error-text{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iI0IyMEYwMyIgZD0iTTE2IDNhMTMgMTMgMCAxIDAgMTMgMTNBMTMuMDE1IDEzLjAxNSAwIDAgMCAxNiAzbTAgMjRhMTEgMTEgMCAxIDEgMTEtMTEgMTEuMDEgMTEuMDEgMCAwIDEtMTEgMTEiLz48cGF0aCBmaWxsPSIjQjIwRjAzIiBkPSJNMTcuMDM4IDE4LjYxNUgxNC44N0wxNC41NjMgOS41aDIuNzgzem0tMS4wODQgMS40MjdxLjY2IDAgMS4wNTcuMzg4LjQwNy4zODkuNDA3Ljk5NCAwIC41OTYtLjQwNy45ODQtLjM5Ny4zOS0xLjA1Ny4zODktLjY1IDAtMS4wNTYtLjM4OS0uMzk4LS4zODktLjM5OC0uOTg0IDAtLjU5Ny4zOTgtLjk4NS40MDYtLjM5NyAxLjA1Ni0uMzk3Ii8+PC9zdmc+");background-repeat:no-repeat;background-size:contain;padding-left:34px}@media (prefers-color-scheme: dark){body{background-color:#222;color:#d9d9d9}}</style><meta http-equiv="refresh" content="360"></head><body><div class="main-wrapper" role="main"><div class="main-content"><noscript><div class="h2"><span id="challenge-error-text">Enable JavaScript and cookies to continue</span></div></noscript></div></div><script>(function(){window._cf_chl_opt = {cvId: '3',cZone: 'console.anthropic.com',cType: 'managed',cRay: '96e482f2ec3ceb2a',cH: 'gqK8SqldQyX_OPOBn.iKCTmp6F6N3XLpfmE5dxFqj0k-1755049300-1.2.1.1-rec1xs4Atj2mh7JegGt5TQd1FrSSiXbKIaIqj82byUOmHL_3f7AokO.07bzxJFil',cUPMDTk:"\/v1\/oauth\/token?__cf_chl_tk=bO7C8zbZ3I3apRFhMP21fT3RmJiSwCQQgry2MXuzwGE-1755049300-1.0.1.1-UCKAIkGf8vu7DkXmZ2jmwy_iNcPeqcNZPD2WMT5_2xU",cFPWv: 'b',cITimeS: '1755049300',cTplC:0,cTplV:5,cTplB: 'cf',fa:"\/v1\/oauth\/token?__cf_chl_f_tk=bO7C8zbZ3I3apRFhMP21fT3RmJiSwCQQgry2MXuzwGE-1755049300-1.0.1.1-UCKAIkGf8vu7DkXmZ2jmwy_iNcPeqcNZPD2WMT5_2xU",md: '7BRZxsP2I39MSDSqK2vtCDG31QN8Etb4uIfW5d06pQ0-1755049300-1.2.1.1-_KFonROkg9.Y_FY9zc5cMMOI31oQr05i3jyVxFBhxZN0zb6SrmQ7pwq825kNvp32533_disMgiI.nt9Qac8n6F9Xi4ebHvNRTBxjO62dOxAERE8IWLMl13bJLNEbN6aXjR8jx_sY9PwcCSqDtS1Wme_0C4p.GHQ.0y_kyJJjeDbFFm1BKxSFtr1NUos.dFExMhRnPMFmnZxKlBZgQi9mgoSMIxoZOaPkEZeLONT_12vDj_8Zb1Kxy49kZm9.TP06TiyUb5qHNFGOW7bSAmuIG0BvF69UW0h9GPGHH18s_hDjeRfQrq2lLu2ue8i6uwNh2li67UGZBj9272N3aZkMSdkZmADEXjZN7tkfDgITrGiaPmdJ4muveOBu1egQfYHehobC3swsODAg1_spuPh9Z9UDT0FEGb8gxxaEqwugkDYp6Dhoblp6N2PlzcYvnrN0iXHWj.TGqDnCtn8ziTX8BsvwT1OU9c8Ok_7nJI.xtkvpNqZ4EN1Zzq_cB5lEf_08XuypWGvXP8_SUqqnubszDgfviwLh4anU_yMpzuTeeFiHwcwE7HiNLr9vNYwOv18HsbC7pg2goUgdJ8g4frqn34kkhoJuJB58AhL0efwCKLA7kXMCAiZeBhGDw2z.zO7ok3HNAJlzwl.fCQ9z6V8HeBwAZYAzCyymdPh6OCTUg.xFIawZFMruU12k6s_q5aaCRPn9IHWqZLGjUX3R5DCS1Q.AEel8QnRG2JhtZpY.ZJOoKo66qi9aUqntspvdc_C1S2cbsm23b6VkKoXWrzYBTkZggHpI1hrCiIfjkQe3LMonfzvCgoiDx6aBGFxuQUacjGvhj77RHmGsTBPFeOtN_oHPgfvepEJYgOcl367HEaytldLoxm70xtZLEVdT6P2yJLKc1vDJQmAfVNSu6BBeeRfkHbWW_Tykws5BUvFuguSnTeSRh8B9FvGTiU4Ubuju989L_ripNL6sgCvezfIl8_MbhCpza3OvX3IbFubQXFFRnd08TNfBlkxGmjSTf.sP',mdrd: 'tfhkExDIMzfFOZNOikLfZXfte312VYRIMqD53IZnJ5w-1755049300-1.2.1.1-e8WD__n3NjxV7YO3w6dE4jCizdlPLaKK0o5WaIAP0FAjC57XMWNsGAUSsG28MqvENCcRQ9xWcPc7OPPG1_pruK0em07CqCAag0u0nbzsh.Y2cQVGuCIOW7AhxgC8k33bpyWeCpsDpMCVt_z0HCzCpObofk5zbOxFcXNxQ7o7fOiOP3nUEaRldN2ItC5eD8rKY5nNr9qnbEOLbXMY5sG9iBtoPzJdBQTHieFBk16OXmrr8oiG69eclEgf_MUgEIPQ40YylnkRgqX6tAG7h5rxHcZens77EvMRYiQawfuS3LGN_upcIQNrcDP_HDdFSOPBVO0x2PgImK9s7mAj0h.9vtP0wnrJiNKJ2QQXFOp3zZ_Pf7eOmgKuHQKXW1FCrAgVjhgn01f57oj6ucRW_2LIOVR8pbFfO82kTLGiJaKp9BSZe8mh_4E.ap_NbXVr8n1Srp5K5byLZU3h5nSG_EUsWY44NbqAeFFNSsaEImqSapctjnyBP_FsKo2cxucOowrZmGlcyXbLKRmnsU0kCrnY21JPvj3KaOIY7RaVEF61nCZXKs_Hbj3X6yrKtQW6Ma7EDeIWPDJks81zwLNhbrzYEbvPYaR6ezGUzI5frfPs5LDR.fDP3SWZQxp5X8RklcO1ubaA729PKaFE3J8yKq0zuxZncN1bdRDL7Mt13XnJC_h3O.fB6AKzKy_Tv6E1PuiKSLYC6LMlECoeSyLU4_W.TCMZFrnG8zPYpx6rTpglECuYH0CR_23wffVSjkrUv4quP40zM0WmHVajSvM5Ap3SeC0CP5iVbazNWAT8eORtiLXpSO6iRwEP.NhzN9K8o.D5EZaH7SUex6rXY6_RzoESMFRFdqmM8vL7IBSteFzvaGzenGf9thuksWZEnj4y2vA1lPfXz9GPZJr_NLmdy1VHTwCSIvXZjBSFy6KEYTT5viuW2aGhDtvHkTorEQuBe5sMYUxy5wCPnnYbe_7_4x9qYLztXrdmrgsj128s03HUgfgefJNH3WTLXJQC7uQpl_z9C7F9a1GSkQrxHYqc8vZOrAf_l4xpyh8EyDvYTsdlLWxlzY3inRyNyVsJtYe3CtrYN57AWwcPEdNHfwgLxZ2RcKk1UOY8wed_3iQ45l_E7irWAb1xcJ73aF86DWLons14xO6mHPoIoGr_gFbiBVoiOunlAlj3yZ6prx2jBYttTPdEit2tJI1OrC2pmMVExwoaGX1.420yO9YxFCGKXVkmPfIWs5XkCXPgo_B7UV8hbfQI09rBDGapeqJiX4KHOCSyEcKcFqLTRejHgvaS2sXaER0ulX05SRwlQy6F25fQJhPOXCbpZgEfhpH.1mtJAN_q0rP2CeFtF8zb0._7PmUt6k9oDkvawE24w5JcBRr3EjJZy2cwAMNGjcii1cm5Y4uKzWyVT0rDGaiVTK0kyMLwgtb_aZXXW7e5hUmD4zd.KownhdDqyhogcLBYgM_eizsm1wgZDEaXFqUQrUgmuFF7_QAlaU9TEK1L_rSz6nFnvUzTHtXq2EKhyVLVDXdDTb_PDOART4HBzYp0LqcLAVDoMiOFUqbPaIhKfjdYR33DIh6weA0u9ZY2769NJPiO19e8Gw_u1b0ndZMSgda8nOJ8RHSZazk2Em0sOCyKfm0_vbwsZ9VUMHwL8mvRkEbVFfm9I7tSUUpL7ju8Q2roWF8.1IOCUSq3POEwk_enqLJDPP7BHJZA8.luYKyjmrv.WALRPq4hmyfx4slO2xAXzCJNOZNxHB9bqKjWiDbAUiHsfCTRnGKUM8cUVyx9e19aailgGhWeVX_Sivnk_GGYT56DmQAWHd5e6h2HPGdhP5h6NYE17miWfhPcyVp2ceoFq7Vd7DfUHAikM98Dxmtjh.qqhBAiqQpLiYD5P6ZC4RhnGJ7LzSF1mXZxzAAYoFSTYqVC1nSu5nONeSYi1N9EqhfsAKDg42NXsZ.cJAFE6IlOIT8JO7NKsfcl2JGsmosVZMBakTIRg.IcB.fmbZyjIHbU8sZ7rgWR84LkJgRHznOTdhghAXBrEBpMzX7ZgKfsAOZM.ePi734F1E.GkbghN_4pDq39EK1UWL.QVbK1_gwSkaAyS8SWVdEU3yMl1pDjJXiLKsQsgbexwojlUu9_LIW49GkGPvlZDU8rcqn6N.SKeWiIsgr.FcZyjOPRqJ1y.K1kBI9pibo3zvimrkEVvsHObwCMLUfiV4ZcR0.CDFw1yikZpluUovYYsuvnyMydSndRGepaIFHymSnkdJv1CWSFwZHROTiC1_lofdeAbm4bn4.7LRj7e0d.L2QInsIeeQ9C4fUnZ8Mx_Kxas1bMrib11pc6P_iFcRRgxe5ran4GYZwgAoQ5DrxYGwu8EkNe0TxvxVGBPspjmdwuHd37HT3gB8KsvhbXr.m_J_cMP..tHdo',};var a = document.createElement('script');a.src = '/cdn-cgi/challenge-platform/h/b/orchestrate/chl_page/v1?ray=96e482f2ec3ceb2a';window._cf_chl_opt.cOgUHash = location.hash === '' && location.href.indexOf('#') !== -1 ? '#' : location.hash;window._cf_chl_opt.cOgUQuery = location.search === '' && location.href.slice(0, location.href.length - window._cf_chl_opt.cOgUHash.length).indexOf('?') !== -1 ? '?' : location.search;if (window.history && window.history.replaceState) {var ogU = location.pathname + window._cf_chl_opt.cOgUQuery + window._cf_chl_opt.cOgUHash;history.replaceState(null, null,"\/v1\/oauth\/token?__cf_chl_rt_tk=bO7C8zbZ3I3apRFhMP21fT3RmJiSwCQQgry2MXuzwGE-1755049300-1.0.1.1-UCKAIkGf8vu7DkXmZ2jmwy_iNcPeqcNZPD2WMT5_2xU"+ window._cf_chl_opt.cOgUHash);a.onload = function() {history.replaceState(null, null, ogU);}}document.getElementsByTagName('head')[0].appendChild(a);}());</script></body></html>
[INFO] 2025/08/13 09:46:09 logger.go:35: Using proxy: http://13127681336_US_NewYork_7ysgkrsa:4tfpny@static-us12-gate.ipweb.cc:7778
[INFO] 2025/08/13 09:46:09 logger.go:35: Attempting OAuth token exchange - URL: https://console.anthropic.com/v1/oauth/token, Code length: 48, Code prefix: YC6w22n7Hc..., Has proxy: true
[INFO] 2025/08/13 09:46:11 logger.go:35: OAuth token exchange response: {"token_type": "Bearer", "access_token": "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", "expires_in": 28800, "refresh_token": "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", "scope": "user:inference user:profile", "organization": {"uuid": "4bdb926b-2c38-46ce-a771-bc53a73be01e", "name": "bp405a7j9m2@outlook.com's Organization"}, "account": {"uuid": "ed6ca511-6676-49c0-8d76-fd391b023f7c", "email_address": "bp405a7j9m2@outlook.com"}}
[INFO] 2025/08/13 09:46:11 logger.go:35: OAuth token exchange successful - Has access token: true, Has refresh token: true, Scopes: [user:inference user:profile]
[INFO] 2025/08/13 09:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 09:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 10:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 10:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 10:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 10:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 10:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 10:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 10:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 10:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 10:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 10:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 10:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 10:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 10:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 10:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 10:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 10:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 11:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 11:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 11:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 11:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 11:05:57 logger.go:35: Shutting down server...
[INFO] 2025/08/13 11:05:57 logger.go:35: Cron service stopped
[INFO] 2025/08/13 11:05:57 logger.go:35: Server stopped gracefully
[INFO] 2025/08/13 11:05:57 logger.go:35: Cron service stopped
[INFO] 2025/08/13 11:06:13 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/13 11:06:14 logger.go:35: Database initialized successfully
[ERROR] 2025/08/13 11:06:14 logger.go:43: failed to initialize Redis: dial tcp [::1]:6379: connectex: No connection could be made because the target machine actively refused it.
[INFO] 2025/08/13 11:09:48 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/13 11:09:49 logger.go:35: Database initialized successfully
[ERROR] 2025/08/13 11:09:49 logger.go:43: failed to initialize Redis: dial tcp [::1]:6379: connectex: No connection could be made because the target machine actively refused it.
[INFO] 2025/08/13 11:16:23 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/13 11:16:23 logger.go:35: Database initialized successfully
[INFO] 2025/08/13 11:16:23 logger.go:35: Redis connection established
[INFO] 2025/08/13 11:16:23 logger.go:35: Cron service started successfully
[INFO] 2025/08/13 11:16:23 logger.go:35: Server starting on port 8088
[INFO] 2025/08/13 11:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 11:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 11:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 11:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 11:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 11:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 11:38:42 logger.go:35: Shutting down server...
[INFO] 2025/08/13 11:38:42 logger.go:35: Cron service stopped
[INFO] 2025/08/13 11:38:42 logger.go:35: Server stopped gracefully
[INFO] 2025/08/13 11:38:42 logger.go:35: Cron service stopped
[INFO] 2025/08/13 11:38:55 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/13 11:38:56 logger.go:35: Database initialized successfully
[ERROR] 2025/08/13 11:38:56 logger.go:43: failed to initialize Redis: dial tcp [::1]:6379: connectex: No connection could be made because the target machine actively refused it.
[INFO] 2025/08/13 11:39:21 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/13 11:39:21 logger.go:35: Database initialized successfully
[INFO] 2025/08/13 11:39:21 logger.go:35: Redis connection established
[INFO] 2025/08/13 11:39:21 logger.go:35: Cron service started successfully
[INFO] 2025/08/13 11:39:21 logger.go:35: Server starting on port 8088
[INFO] 2025/08/13 11:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 11:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 11:40:27 logger.go:35: Shutting down server...
[INFO] 2025/08/13 11:40:27 logger.go:35: Cron service stopped
[INFO] 2025/08/13 11:40:27 logger.go:35: Server stopped gracefully
[INFO] 2025/08/13 11:40:27 logger.go:35: Cron service stopped
[INFO] 2025/08/13 11:48:31 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/13 11:48:31 logger.go:35: Database initialized successfully
[INFO] 2025/08/13 11:48:31 logger.go:35: Redis connection established
[INFO] 2025/08/13 11:48:31 logger.go:35: Cron service started successfully
[INFO] 2025/08/13 11:48:31 logger.go:35: Server starting on port 8088
[INFO] 2025/08/13 11:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 11:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 12:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 12:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 12:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 12:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 12:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 12:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 12:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 12:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 12:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 12:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 12:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 12:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 12:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 12:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 12:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 12:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 13:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 13:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 13:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 13:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 13:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 13:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 13:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 13:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 13:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 13:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 13:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 13:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 13:35:10 logger.go:35: Shutting down server...
[INFO] 2025/08/13 13:35:10 logger.go:35: Cron service stopped
[INFO] 2025/08/13 13:35:10 logger.go:35: Server stopped gracefully
[INFO] 2025/08/13 13:35:10 logger.go:35: Cron service stopped
[INFO] 2025/08/13 13:35:20 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/13 13:35:21 logger.go:35: Database initialized successfully
[INFO] 2025/08/13 13:35:21 logger.go:35: Redis connection established
[INFO] 2025/08/13 13:35:21 logger.go:35: Cron service started successfully
[INFO] 2025/08/13 13:35:21 logger.go:35: Server starting on port 8088
[INFO] 2025/08/13 13:35:54 logger.go:35: === API Key调试信息 ===
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求路径: POST /claude-code/v1/messages
[INFO] 2025/08/13 13:35:54 logger.go:35: 客户端IP: ::1
[INFO] 2025/08/13 13:35:54 logger.go:35: User-Agent: claude-cli/1.0.77 (external, cli)
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 X-api-key: (空)
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 X-Goog-API-Key: (空)
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 Authorization: Bearer sk-2b4caedf0a...
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 API-Key: (空)
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 x-api-key: (空)
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 api-key: (空)
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 anthropic-version: 2023-06-01
[INFO] 2025/08/13 13:35:54 logger.go:35: 找到API Key在Authorization Bearer头中
[INFO] 2025/08/13 13:35:54 logger.go:35: 成功获取API Key: sk-2b4caed...
[INFO] 2025/08/13 13:35:54 logger.go:35: API Key验证成功, 用户ID: 3, 分组ID: 1
[INFO] 2025/08/13 13:35:54 logger.go:35: === API Key调试信息 ===
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求路径: POST /claude-code/v1/messages
[INFO] 2025/08/13 13:35:54 logger.go:35: 客户端IP: ::1
[INFO] 2025/08/13 13:35:54 logger.go:35: User-Agent: claude-cli/1.0.77 (external, cli)
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 X-api-key: (空)
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 X-Goog-API-Key: (空)
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 Authorization: Bearer sk-2b4caedf0a...
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 API-Key: (空)
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 x-api-key: (空)
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 api-key: (空)
[INFO] 2025/08/13 13:35:54 logger.go:35: 请求头 anthropic-version: 2023-06-01
[INFO] 2025/08/13 13:35:54 logger.go:35: 找到API Key在Authorization Bearer头中
[INFO] 2025/08/13 13:35:54 logger.go:35: 成功获取API Key: sk-2b4caed...
[INFO] 2025/08/13 13:35:54 logger.go:35: API Key验证成功, 用户ID: 3, 分组ID: 1
[INFO] 2025/08/13 13:36:18 logger.go:35: === API Key调试信息 ===
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求路径: POST /claude-code/v1/messages
[INFO] 2025/08/13 13:36:18 logger.go:35: 客户端IP: ::1
[INFO] 2025/08/13 13:36:18 logger.go:35: User-Agent: claude-cli/1.0.77 (external, cli)
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 X-api-key: (空)
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 X-Goog-API-Key: (空)
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 Authorization: Bearer sk-2b4caedf0a...
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 API-Key: (空)
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 x-api-key: (空)
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 api-key: (空)
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 anthropic-version: 2023-06-01
[INFO] 2025/08/13 13:36:18 logger.go:35: 找到API Key在Authorization Bearer头中
[INFO] 2025/08/13 13:36:18 logger.go:35: 成功获取API Key: sk-2b4caed...
[INFO] 2025/08/13 13:36:18 logger.go:35: API Key验证成功, 用户ID: 3, 分组ID: 1
[INFO] 2025/08/13 13:36:18 logger.go:35: === API Key调试信息 ===
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求路径: POST /claude-code/v1/messages
[INFO] 2025/08/13 13:36:18 logger.go:35: 客户端IP: ::1
[INFO] 2025/08/13 13:36:18 logger.go:35: User-Agent: claude-cli/1.0.77 (external, cli)
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 x-api-key: (空)
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 api-key: (空)
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 anthropic-version: 2023-06-01
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 X-api-key: (空)
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 X-Goog-API-Key: (空)
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 Authorization: Bearer sk-2b4caedf0a...
[INFO] 2025/08/13 13:36:18 logger.go:35: 请求头 API-Key: (空)
[INFO] 2025/08/13 13:36:18 logger.go:35: 找到API Key在Authorization Bearer头中
[INFO] 2025/08/13 13:36:18 logger.go:35: 成功获取API Key: sk-2b4caed...
[INFO] 2025/08/13 13:36:18 logger.go:35: API Key验证成功, 用户ID: 3, 分组ID: 1
[INFO] 2025/08/13 13:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 13:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 13:42:33 logger.go:35: Shutting down server...
[INFO] 2025/08/13 13:42:33 logger.go:35: Cron service stopped
[INFO] 2025/08/13 13:42:33 logger.go:35: Server stopped gracefully
[INFO] 2025/08/13 13:42:33 logger.go:35: Cron service stopped
[INFO] 2025/08/13 13:42:42 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/13 13:42:42 logger.go:35: Database initialized successfully
[INFO] 2025/08/13 13:42:42 logger.go:35: Redis connection established
[INFO] 2025/08/13 13:42:42 logger.go:35: Cron service started successfully
[INFO] 2025/08/13 13:42:42 logger.go:35: Server starting on port 8088
[INFO] 2025/08/13 13:46:50 logger.go:35: Shutting down server...
[INFO] 2025/08/13 13:46:50 logger.go:35: Cron service stopped
[INFO] 2025/08/13 13:46:50 logger.go:35: Server stopped gracefully
[INFO] 2025/08/13 13:46:50 logger.go:35: Cron service stopped
[INFO] 2025/08/13 13:47:00 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/13 13:47:00 logger.go:35: Database initialized successfully
[INFO] 2025/08/13 13:47:00 logger.go:35: Redis connection established
[INFO] 2025/08/13 13:47:00 logger.go:35: Cron service started successfully
[INFO] 2025/08/13 13:47:00 logger.go:35: Server starting on port 8088
[INFO] 2025/08/13 13:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 13:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 14:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 14:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 14:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 14:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 14:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 14:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 14:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 14:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 14:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 14:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 14:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 14:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 14:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 14:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 14:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 14:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 15:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 15:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 15:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 15:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 15:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 15:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 15:10:24 logger.go:35: Shutting down server...
[INFO] 2025/08/13 15:10:24 logger.go:35: Cron service stopped
[INFO] 2025/08/13 15:10:24 logger.go:35: Server stopped gracefully
[INFO] 2025/08/13 15:10:24 logger.go:35: Cron service stopped
[INFO] 2025/08/13 15:56:52 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/13 15:56:52 logger.go:35: Database initialized successfully
[INFO] 2025/08/13 15:56:52 logger.go:35: Redis connection established
[INFO] 2025/08/13 15:56:52 logger.go:35: Cron service started successfully
[INFO] 2025/08/13 15:56:52 logger.go:35: Server starting on port 8088
[INFO] 2025/08/13 16:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 16:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 16:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 16:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 16:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 16:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 16:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 16:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 16:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 16:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 16:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 16:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 16:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 16:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 16:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 16:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 17:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 17:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 17:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 17:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 17:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 17:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 17:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 17:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 17:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 17:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 17:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 17:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 17:40:03 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 17:40:03 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 17:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 17:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 18:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 18:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 18:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 18:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 18:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 18:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 18:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 18:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 18:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 18:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 18:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 18:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 18:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 18:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 19:04:14 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 19:04:14 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 22:11:49 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 22:11:49 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 22:11:49 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 22:11:49 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 22:17:34 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 22:17:34 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 22:17:34 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 22:17:34 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 22:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 22:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 22:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 22:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 22:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 22:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 22:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 22:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 22:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 22:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 23:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 23:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 23:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 23:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 23:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 23:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 23:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 23:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 23:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/13 23:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 23:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/13 23:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 23:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 23:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/13 23:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/13 23:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/14 00:00:00 logger.go:35: Starting daily stats reset task
[INFO] 2025/08/14 00:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/14 00:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/14 00:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/14 00:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/14 00:00:00 logger.go:35: Account daily stats reset successfully
[INFO] 2025/08/14 00:00:00 logger.go:35: API Key daily stats reset successfully
[INFO] 2025/08/14 00:00:00 logger.go:35: Daily stats reset task completed in 198.9913ms
[INFO] 2025/08/14 00:01:33 logger.go:35: Shutting down server...
[INFO] 2025/08/14 00:01:33 logger.go:35: Cron service stopped
[INFO] 2025/08/14 00:01:33 logger.go:35: Server stopped gracefully
[INFO] 2025/08/14 00:01:33 logger.go:35: Cron service stopped
[INFO] 2025/08/20 15:09:05 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/20 15:09:06 logger.go:35: Database initialized successfully
[INFO] 2025/08/20 15:09:06 logger.go:35: Redis connection established
[INFO] 2025/08/20 15:09:06 logger.go:35: Cron service started successfully
[INFO] 2025/08/20 15:09:06 logger.go:35: Server starting on port 8088
[INFO] 2025/08/20 15:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 15:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 15:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 15:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 15:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/20 15:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 15:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/20 15:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 15:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/20 15:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/20 15:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.0248749s. Recovered: 0, Failed: 1
[INFO] 2025/08/20 15:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 15:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 15:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 15:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 16:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 16:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/20 16:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 16:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/20 16:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/20 16:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/20 16:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.5399033s. Recovered: 0, Failed: 1
[INFO] 2025/08/20 16:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 16:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 16:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 16:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 16:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 16:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/20 16:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 16:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/20 16:30:02 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/20 16:30:02 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/20 16:30:02 logger.go:35: Abnormal accounts recovery task completed in 2.1108998s. Recovered: 0, Failed: 1
[INFO] 2025/08/20 16:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 16:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 16:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 16:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 17:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 17:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/20 17:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 17:00:00 logger.go:35: Found 2 abnormal accounts to test
[INFO] 2025/08/20 17:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/20 17:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/20 17:00:02 logger.go:35: Testing account max101 (ID: 3) with status code: 401, error: 
[INFO] 2025/08/20 17:00:02 logger.go:35: Account max101 (ID: 3) test failed with status code: 401
[INFO] 2025/08/20 17:00:02 logger.go:35: Abnormal accounts recovery task completed in 2.5779698s. Recovered: 0, Failed: 2
[INFO] 2025/08/20 17:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 17:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 17:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 17:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 17:22:51 logger.go:35: Using proxy: http://13127681336_US_NewYork_rwixw6tm:4tfpny@static-us11-gate.ipweb.cc:7778
[INFO] 2025/08/20 17:22:51 logger.go:35: Attempting OAuth token exchange - URL: https://console.anthropic.com/v1/oauth/token, Code length: 48, Code prefix: BL7ftS3ht4..., Has proxy: true
[INFO] 2025/08/20 17:22:52 logger.go:35: OAuth token exchange response: {"token_type": "Bearer", "access_token": "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", "expires_in": 28800, "refresh_token": "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", "scope": "user:inference user:profile", "organization": {"uuid": "b4b08889-84e2-4ffd-a696-decea8bd8f83", "name": "dgceqtdkwe027@outlook.com's Organization"}, "account": {"uuid": "a5731544-d788-4859-b8f5-bcbbe4cc898d", "email_address": "dgceqtdkwe027@outlook.com"}}
[INFO] 2025/08/20 17:22:52 logger.go:35: OAuth token exchange successful - Has access token: true, Has refresh token: true, Scopes: [user:inference user:profile]
[INFO] 2025/08/20 17:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 17:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/20 17:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 17:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/20 17:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/20 17:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/20 17:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.11138s. Recovered: 0, Failed: 1
[INFO] 2025/08/20 17:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 17:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 17:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 17:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 18:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/20 18:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 18:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 18:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/20 18:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/20 18:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/20 18:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.0358285s. Recovered: 0, Failed: 1
[INFO] 2025/08/20 18:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 18:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 18:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 18:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 18:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/20 18:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 18:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/20 18:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 18:30:02 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/20 18:30:02 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/20 18:30:02 logger.go:35: Abnormal accounts recovery task completed in 2.3761821s. Recovered: 0, Failed: 1
[INFO] 2025/08/20 21:35:19 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 21:35:20 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 21:45:19 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/20 21:45:19 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 21:45:19 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 21:45:19 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/20 21:45:21 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/20 21:45:21 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/20 21:45:21 logger.go:35: Abnormal accounts recovery task completed in 1.311506s. Recovered: 0, Failed: 1
[INFO] 2025/08/20 21:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 21:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 22:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/20 22:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 22:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 22:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/20 22:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/20 22:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/20 22:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.0925763s. Recovered: 0, Failed: 1
[INFO] 2025/08/20 22:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 22:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 22:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 22:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 22:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 22:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/20 22:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 22:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/20 22:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/20 22:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/20 22:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.0517234s. Recovered: 0, Failed: 1
[INFO] 2025/08/20 22:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 22:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 22:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 22:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 23:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 23:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/20 23:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/20 23:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/20 23:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/20 23:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/20 23:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.4213815s. Recovered: 0, Failed: 1
[INFO] 2025/08/20 23:07:14 logger.go:35: Shutting down server...
[INFO] 2025/08/20 23:07:14 logger.go:35: Cron service stopped
[INFO] 2025/08/20 23:07:14 logger.go:35: Server stopped gracefully
[INFO] 2025/08/20 23:07:14 logger.go:35: Cron service stopped
[INFO] 2025/08/20 23:24:21 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/20 23:24:22 logger.go:35: Database initialized successfully
[ERROR] 2025/08/20 23:24:22 logger.go:43: failed to initialize Redis: dial tcp [::1]:6379: connectex: No connection could be made because the target machine actively refused it.
[INFO] 2025/08/20 23:26:13 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/20 23:26:14 logger.go:35: Database initialized successfully
[INFO] 2025/08/20 23:26:14 logger.go:35: Redis connection established
[INFO] 2025/08/20 23:26:14 logger.go:35: Cron service started successfully
[INFO] 2025/08/20 23:26:14 logger.go:35: Server starting on port 8088
[INFO] 2025/08/20 23:28:10 logger.go:35: Shutting down server...
[INFO] 2025/08/20 23:28:10 logger.go:35: Cron service stopped
[INFO] 2025/08/20 23:28:10 logger.go:35: Server stopped gracefully
[INFO] 2025/08/20 23:28:10 logger.go:35: Cron service stopped
[INFO] 2025/08/20 23:37:35 logger.go:35: Starting billing system test
[INFO] 2025/08/20 23:37:36 logger.go:35: Database initialized successfully
[INFO] 2025/08/20 23:37:36 logger.go:35: Redis connection established
[INFO] 2025/08/20 23:46:14 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/20 23:46:14 logger.go:35: Database initialized successfully
[INFO] 2025/08/20 23:46:14 logger.go:35: Redis connection established
[INFO] 2025/08/20 23:46:14 logger.go:35: Cron service started successfully
[INFO] 2025/08/20 23:46:14 logger.go:35: Server starting on port 8088
[INFO] 2025/08/20 23:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/20 23:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 00:00:00 logger.go:35: Starting daily stats reset task
[INFO] 2025/08/21 00:00:00 logger.go:35: Starting time card daily usage reset task
[INFO] 2025/08/21 00:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 00:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 00:00:00 logger.go:35: Daily usage reset completed
[INFO] 2025/08/21 00:00:00 logger.go:35: Time card daily usage reset successfully
[INFO] 2025/08/21 00:00:00 logger.go:35: Time card daily usage reset task completed in 15.5026ms
[INFO] 2025/08/21 00:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 00:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 00:00:00 logger.go:35: Account daily stats reset successfully
[INFO] 2025/08/21 00:00:00 logger.go:35: API Key daily stats reset successfully
[INFO] 2025/08/21 00:00:00 logger.go:35: Daily stats reset task completed in 71.75ms
[INFO] 2025/08/21 00:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 00:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 00:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.3748888s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 00:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 00:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 00:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 00:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 00:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 00:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 00:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 00:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 00:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 00:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 00:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.5375532s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 00:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 00:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 00:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 00:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 00:53:57 logger.go:35: Shutting down server...
[INFO] 2025/08/21 00:53:57 logger.go:35: Cron service stopped
[INFO] 2025/08/21 00:53:57 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 00:53:57 logger.go:35: Cron service stopped
[INFO] 2025/08/21 01:01:34 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 01:01:35 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 01:01:35 logger.go:35: Redis connection established
[INFO] 2025/08/21 01:01:35 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 01:01:35 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 01:01:56 logger.go:35: Shutting down server...
[INFO] 2025/08/21 01:01:56 logger.go:35: Cron service stopped
[INFO] 2025/08/21 01:01:56 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 01:01:56 logger.go:35: Cron service stopped
[INFO] 2025/08/21 01:02:19 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 01:02:20 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 01:02:20 logger.go:35: Redis connection established
[INFO] 2025/08/21 01:02:20 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 01:02:20 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 01:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 01:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 01:12:26 logger.go:35: Shutting down server...
[INFO] 2025/08/21 01:12:26 logger.go:35: Cron service stopped
[INFO] 2025/08/21 01:12:26 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 01:12:26 logger.go:35: Cron service stopped
[INFO] 2025/08/21 01:12:45 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 01:12:45 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 01:12:45 logger.go:35: Redis connection established
[INFO] 2025/08/21 01:12:45 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 01:12:45 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 01:15:53 logger.go:35: Shutting down server...
[INFO] 2025/08/21 01:15:53 logger.go:35: Cron service stopped
[INFO] 2025/08/21 01:15:53 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 01:15:53 logger.go:35: Cron service stopped
[INFO] 2025/08/21 01:16:05 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 01:16:06 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 01:16:06 logger.go:35: Redis connection established
[INFO] 2025/08/21 01:16:06 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 01:16:06 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 01:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 01:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 01:20:51 logger.go:35: Shutting down server...
[INFO] 2025/08/21 01:20:51 logger.go:35: Cron service stopped
[INFO] 2025/08/21 01:20:51 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 01:20:51 logger.go:35: Cron service stopped
[INFO] 2025/08/21 01:21:02 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 01:21:03 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 01:21:03 logger.go:35: Redis connection established
[INFO] 2025/08/21 01:21:03 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 01:21:03 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 01:22:59 logger.go:35: Billing processed successfully for user 3, cost: $0.001050
[INFO] 2025/08/21 01:22:59 logger.go:35: Billing processed successfully for user 3, cost: $0.001050
[INFO] 2025/08/21 01:26:06 logger.go:35: Using proxy: http://13127681336_US_NewYork_rwixw6tm:4tfpny@static-us11-gate.ipweb.cc:7778
[INFO] 2025/08/21 01:26:06 logger.go:35: Attempting OAuth token exchange - URL: https://console.anthropic.com/v1/oauth/token, Code length: 48, Code prefix: YFjWTpk5Yp..., Has proxy: true
[INFO] 2025/08/21 01:26:07 logger.go:35: OAuth token exchange response: {"token_type": "Bearer", "access_token": "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", "expires_in": 28800, "refresh_token": "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", "scope": "user:inference user:profile", "organization": {"uuid": "b4b08889-84e2-4ffd-a696-decea8bd8f83", "name": "dgceqtdkwe027@outlook.com's Organization"}, "account": {"uuid": "a5731544-d788-4859-b8f5-bcbbe4cc898d", "email_address": "dgceqtdkwe027@outlook.com"}}
[INFO] 2025/08/21 01:26:07 logger.go:35: OAuth token exchange successful - Has access token: true, Has refresh token: true, Scopes: [user:inference user:profile]
[INFO] 2025/08/21 01:26:30 logger.go:35: Billing processed successfully for user 3, cost: $0.001050
[INFO] 2025/08/21 01:28:37 logger.go:35: Billing processed successfully for user 3, cost: $0.001050
[INFO] 2025/08/21 01:29:06 logger.go:35: Billing processed successfully for user 3, cost: $0.001050
[INFO] 2025/08/21 01:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 01:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 01:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 01:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 01:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 01:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 01:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.414853s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 01:31:14 logger.go:35: Billing processed successfully for user 3, cost: $0.001050
[INFO] 2025/08/21 01:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 01:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 01:44:47 logger.go:35: Shutting down server...
[INFO] 2025/08/21 01:44:47 logger.go:35: Cron service stopped
[INFO] 2025/08/21 01:44:47 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 01:44:47 logger.go:35: Cron service stopped
[INFO] 2025/08/21 01:45:05 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 01:45:06 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 01:45:06 logger.go:35: Redis connection established
[INFO] 2025/08/21 01:45:06 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 01:45:06 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 01:45:56 logger.go:35: Failed to extract tokens info from response, skipping billing
[INFO] 2025/08/21 01:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 01:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 01:52:07 logger.go:35: Shutting down server...
[INFO] 2025/08/21 01:52:07 logger.go:35: Cron service stopped
[INFO] 2025/08/21 01:52:07 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 01:52:07 logger.go:35: Cron service stopped
[INFO] 2025/08/21 01:52:28 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 01:52:29 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 01:52:29 logger.go:35: Redis connection established
[INFO] 2025/08/21 01:52:29 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 01:52:29 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 01:52:54 logger.go:35: Billing processed successfully for user 3, model: claude-sonnet-4-20250514, tokens: 16322, cost: $0.027581
[ERROR] 2025/08/21 01:56:37 logger.go:43: 邮件发送失败: SMTP认证失败: 535 Login fail. Account is abnormal, service is not open, password is incorrect, login frequency limited, or system is busy. More information at https://help.mail.qq.com/detail/108/1023
[ERROR] 2025/08/21 01:56:37 logger.go:43: 发送验证码失败: 邮件发送失败: SMTP认证失败: 535 Login fail. Account is abnormal, service is not open, password is incorrect, login frequency limited, or system is busy. More information at https://help.mail.qq.com/detail/108/1023
[INFO] 2025/08/21 01:56:38 logger.go:35: 邮件发送被缓存跳过: 13127681336@163.com
[INFO] 2025/08/21 01:56:38 logger.go:35: 验证码发送成功: 13127681336@163.com, 类型: email_verification
[INFO] 2025/08/21 02:00:00 logger.go:35: Starting expired billing plans cleanup task
[INFO] 2025/08/21 02:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 02:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 02:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 02:00:00 logger.go:35: Expired plans cleanup completed
[INFO] 2025/08/21 02:00:00 logger.go:35: Expired billing plans cleanup successfully
[INFO] 2025/08/21 02:00:00 logger.go:35: Expired billing plans cleanup task completed in 90.3269ms
[INFO] 2025/08/21 02:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 02:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 02:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 02:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.2544871s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 02:05:44 logger.go:35: Billing processed successfully for user 3, model: claude-sonnet-4-20250514, tokens: 16859, cost: $0.030033
[INFO] 2025/08/21 02:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 02:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 02:14:02 logger.go:35: Shutting down server...
[INFO] 2025/08/21 02:14:02 logger.go:35: Cron service stopped
[INFO] 2025/08/21 02:14:02 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 02:14:02 logger.go:35: Cron service stopped
[INFO] 2025/08/21 02:14:13 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 02:14:14 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 02:14:14 logger.go:35: Redis connection established
[INFO] 2025/08/21 02:14:14 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 02:14:14 logger.go:35: Server starting on port 8088
[ERROR] 2025/08/21 02:14:29 logger.go:43: Failed to update card status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:14:30 logger.go:43: Failed to update card status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:14:31 logger.go:43: Failed to update card status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:14:32 logger.go:43: Failed to update card status: Error 1265 (01000): Data truncated for column 'status' at row 1
[INFO] 2025/08/21 02:19:46 logger.go:35: Shutting down server...
[INFO] 2025/08/21 02:19:46 logger.go:35: Cron service stopped
[INFO] 2025/08/21 02:19:46 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 02:19:46 logger.go:35: Cron service stopped
[INFO] 2025/08/21 02:20:04 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 02:20:05 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 02:20:05 logger.go:35: Redis connection established
[INFO] 2025/08/21 02:20:05 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 02:20:05 logger.go:35: Server starting on port 8088
[ERROR] 2025/08/21 02:20:53 logger.go:43: Failed to update user plan status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:20:54 logger.go:43: Failed to update user plan status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:20:55 logger.go:43: Failed to update user plan status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:20:56 logger.go:43: Failed to update user plan status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:21:02 logger.go:43: Failed to update user plan status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:21:03 logger.go:43: Failed to update user plan status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:21:04 logger.go:43: Failed to update user plan status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:21:05 logger.go:43: Failed to update user plan status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:21:14 logger.go:43: Failed to update card status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:21:15 logger.go:43: Failed to update card status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:21:16 logger.go:43: Failed to update card status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:21:17 logger.go:43: Failed to update card status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:21:30 logger.go:43: Failed to update card status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:21:31 logger.go:43: Failed to update card status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:21:32 logger.go:43: Failed to update card status: Error 1265 (01000): Data truncated for column 'status' at row 1
[ERROR] 2025/08/21 02:21:33 logger.go:43: Failed to update card status: Error 1265 (01000): Data truncated for column 'status' at row 1
[INFO] 2025/08/21 02:24:15 logger.go:35: 管理员 admin 将用户 3 的套餐 4 状态修改为 disabled
[INFO] 2025/08/21 02:25:27 logger.go:35: 管理员 admin 将用户 3 的套餐 6 状态修改为 disabled
[INFO] 2025/08/21 02:26:06 logger.go:35: Billing processed successfully for user 3, model: claude-sonnet-4-20250514, tokens: 17195, cost: $0.029268
[INFO] 2025/08/21 02:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 02:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 02:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 02:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 02:30:00 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 02:30:00 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 02:30:00 logger.go:35: Abnormal accounts recovery task completed in 998.4093ms. Recovered: 0, Failed: 1
[INFO] 2025/08/21 02:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 02:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 02:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 02:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 03:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 03:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 03:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 03:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 03:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 03:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 03:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.0513149s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 03:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 03:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 03:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 03:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 03:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 03:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 03:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 03:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 03:30:00 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 03:30:00 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 03:30:00 logger.go:35: Abnormal accounts recovery task completed in 965.9435ms. Recovered: 0, Failed: 1
[INFO] 2025/08/21 03:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 03:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 03:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 03:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 04:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 04:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 04:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 04:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 04:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 04:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 04:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.0219781s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 04:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 04:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 04:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 04:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 04:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 04:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 04:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 04:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 04:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 04:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 04:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.0282091s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 04:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 04:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 04:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 04:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 05:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 05:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 05:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 05:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 05:00:00 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 05:00:00 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 05:00:00 logger.go:35: Abnormal accounts recovery task completed in 985.8593ms. Recovered: 0, Failed: 1
[INFO] 2025/08/21 05:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 05:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 05:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 05:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 05:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 05:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 05:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 05:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 05:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 05:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 05:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.4558266s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 05:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 05:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 05:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 05:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 06:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 06:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 06:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 06:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 06:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 06:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 06:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.1554901s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 06:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 06:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 06:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 06:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 06:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 06:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 06:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 06:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 06:30:00 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 06:30:00 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 06:30:00 logger.go:35: Abnormal accounts recovery task completed in 945.7191ms. Recovered: 0, Failed: 1
[INFO] 2025/08/21 06:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 06:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 06:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 06:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 07:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 07:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 07:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 07:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 07:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 07:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 07:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.1224204s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 07:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 07:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 07:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 07:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 07:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 07:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 07:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 07:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 07:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 07:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 07:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.0381905s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 09:08:17 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 09:08:17 logger.go:35: Initializing model configurations from hardcoded data...
[INFO] 2025/08/21 09:08:18 logger.go:35: Model configurations initialized successfully
[INFO] 2025/08/21 09:08:18 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 09:08:18 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 09:08:18 logger.go:35: Redis connection established
[INFO] 2025/08/21 09:08:18 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 09:08:18 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 09:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 09:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 09:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 09:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 09:22:43 logger.go:35: Shutting down server...
[INFO] 2025/08/21 09:22:43 logger.go:35: Cron service stopped
[INFO] 2025/08/21 09:22:43 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 09:22:43 logger.go:35: Cron service stopped
[INFO] 2025/08/21 09:22:48 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 09:22:48 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 09:22:48 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 09:22:48 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 09:22:48 logger.go:35: Redis connection established
[INFO] 2025/08/21 09:22:48 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 09:22:48 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 09:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 09:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 09:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 09:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 09:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 09:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 09:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.6027818s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 09:35:54 logger.go:35: Shutting down server...
[INFO] 2025/08/21 09:35:54 logger.go:35: Cron service stopped
[INFO] 2025/08/21 09:35:54 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 09:35:54 logger.go:35: Cron service stopped
[INFO] 2025/08/21 09:36:03 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 09:36:03 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 09:36:03 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 09:36:03 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 09:36:03 logger.go:35: Redis connection established
[INFO] 2025/08/21 09:36:03 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 09:36:03 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 09:39:18 logger.go:35: Shutting down server...
[INFO] 2025/08/21 09:39:18 logger.go:35: Cron service stopped
[INFO] 2025/08/21 09:39:18 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 09:39:18 logger.go:35: Cron service stopped
[INFO] 2025/08/21 09:39:31 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 09:39:32 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 09:39:32 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 09:39:32 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 09:39:32 logger.go:35: Redis connection established
[INFO] 2025/08/21 09:39:32 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 09:39:32 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 09:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 09:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 09:43:01 logger.go:35: Shutting down server...
[INFO] 2025/08/21 09:43:01 logger.go:35: Cron service stopped
[INFO] 2025/08/21 09:43:01 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 09:43:01 logger.go:35: Cron service stopped
[INFO] 2025/08/21 09:45:48 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 09:45:49 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 09:45:49 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 09:45:49 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 09:45:49 logger.go:35: Redis connection established
[INFO] 2025/08/21 09:45:49 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 09:45:49 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 09:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 09:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 10:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 10:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 10:00:00 logger.go:35: Found 2 abnormal accounts to test
[INFO] 2025/08/21 10:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 10:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 10:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 10:00:02 logger.go:35: Testing account max101 (ID: 3) with status code: 401, error: 
[INFO] 2025/08/21 10:00:02 logger.go:35: Account max101 (ID: 3) test failed with status code: 401
[INFO] 2025/08/21 10:00:02 logger.go:35: Abnormal accounts recovery task completed in 2.4684865s. Recovered: 0, Failed: 2
[INFO] 2025/08/21 10:08:25 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 10:08:25 logger.go:35: Billing processed successfully for user 3, model: claude-sonnet-4-20250514, tokens: 14791, cost: $0.016620
[INFO] 2025/08/21 10:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 10:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 10:14:27 logger.go:35: Shutting down server...
[INFO] 2025/08/21 10:14:27 logger.go:35: Cron service stopped
[INFO] 2025/08/21 10:14:27 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 10:14:27 logger.go:35: Cron service stopped
[INFO] 2025/08/21 10:14:36 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 10:14:37 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 10:14:37 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 10:14:37 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 10:14:37 logger.go:35: Redis connection established
[INFO] 2025/08/21 10:14:37 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 10:14:37 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 10:20:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 10:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 10:20:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 10:20:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 10:20:00 logger.go:35: Account max101 (ID: 3) token expires in 7h48m21s, no need to refresh yet
[INFO] 2025/08/21 10:20:00 logger.go:35: Claude accounts token refresh check task completed in 2.1864ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 10:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 10:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 10:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 10:30:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 10:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 10:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 10:30:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 10:30:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 10:30:00 logger.go:35: Account max101 (ID: 3) token expires in 7h38m21s, no need to refresh yet
[INFO] 2025/08/21 10:30:00 logger.go:35: Claude accounts token refresh check task completed in 16.51ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 10:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 10:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 10:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.2400718s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 10:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 10:40:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 10:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 10:40:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 10:40:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 10:40:00 logger.go:35: Account max101 (ID: 3) token expires in 7h28m21s, no need to refresh yet
[INFO] 2025/08/21 10:40:00 logger.go:35: Claude accounts token refresh check task completed in 4.7794ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 10:45:09 logger.go:35: Shutting down server...
[INFO] 2025/08/21 10:45:09 logger.go:35: Cron service stopped
[INFO] 2025/08/21 10:45:09 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 10:45:09 logger.go:35: Cron service stopped
[INFO] 2025/08/21 10:45:17 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 10:45:18 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 10:45:18 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 10:45:18 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 10:45:18 logger.go:35: Redis connection established
[INFO] 2025/08/21 10:45:18 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 10:45:18 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 10:50:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 10:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 10:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 10:50:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 10:50:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 10:50:00 logger.go:35: Account max101 (ID: 3) token expires in 7h18m21s, no need to refresh yet
[INFO] 2025/08/21 10:50:00 logger.go:35: Claude accounts token refresh check task completed in 2.5719ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 10:52:22 logger.go:35: Shutting down server...
[INFO] 2025/08/21 10:52:22 logger.go:35: Cron service stopped
[INFO] 2025/08/21 10:52:22 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 10:52:22 logger.go:35: Cron service stopped
[INFO] 2025/08/21 10:58:33 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 10:58:34 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 10:58:34 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 10:58:34 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 10:58:34 logger.go:35: Redis connection established
[INFO] 2025/08/21 10:58:34 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 10:58:34 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 11:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 11:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 11:00:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 11:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 11:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 11:00:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 11:00:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 11:00:00 logger.go:35: Account max101 (ID: 3) token expires in 7h8m21s, no need to refresh yet
[INFO] 2025/08/21 11:00:00 logger.go:35: Claude accounts token refresh check task completed in 3.4803ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 11:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 11:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 11:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.450411s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 11:05:54 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 11:05:55 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 11:05:55 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 11:05:55 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 11:05:55 logger.go:35: Redis connection established
[INFO] 2025/08/21 11:05:55 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 11:05:55 logger.go:35: Server starting on port 8088
[ERROR] 2025/08/21 11:05:55 logger.go:43: failed to start HTTP server: listen tcp :8088: bind: Only one usage of each socket address (protocol/network address/port) is normally permitted.
[INFO] 2025/08/21 11:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 11:10:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 11:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 11:10:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 11:10:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 11:10:00 logger.go:35: Account max101 (ID: 3) token expires in 6h58m21s, no need to refresh yet
[INFO] 2025/08/21 11:10:00 logger.go:35: Claude accounts token refresh check task completed in 2.1496ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 11:20:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 11:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 11:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 11:20:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 11:20:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 11:20:00 logger.go:35: Account max101 (ID: 3) token expires in 6h48m21s, no need to refresh yet
[INFO] 2025/08/21 11:20:00 logger.go:35: Claude accounts token refresh check task completed in 2.5464ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 11:26:09 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 11:26:09 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 14944, cost: $0.086698
[INFO] 2025/08/21 11:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 11:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 11:30:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 11:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 11:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 11:30:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 11:30:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 11:30:00 logger.go:35: Account max101 (ID: 3) token expires in 6h38m21s, no need to refresh yet
[INFO] 2025/08/21 11:30:00 logger.go:35: Claude accounts token refresh check task completed in 7.2964ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 11:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 11:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 11:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.1451955s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 11:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 11:40:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 11:40:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 11:40:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 11:40:00 logger.go:35: Account max101 (ID: 3) token expires in 6h28m21s, no need to refresh yet
[INFO] 2025/08/21 11:40:00 logger.go:35: Claude accounts token refresh check task completed in 3.058ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 11:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 11:47:30 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 11:47:30 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 14971, cost: $0.086304
[INFO] 2025/08/21 11:47:52 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 15022, cost: $0.026312
[INFO] 2025/08/21 11:50:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 11:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 11:50:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 11:50:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 11:50:00 logger.go:35: Account max101 (ID: 3) token expires in 6h18m21s, no need to refresh yet
[INFO] 2025/08/21 11:50:00 logger.go:35: Claude accounts token refresh check task completed in 1.8519ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 11:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 12:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 12:00:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 12:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 12:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 12:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 12:00:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 12:00:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 12:00:00 logger.go:35: Account max101 (ID: 3) token expires in 6h8m21s, no need to refresh yet
[INFO] 2025/08/21 12:00:00 logger.go:35: Claude accounts token refresh check task completed in 16.6126ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 12:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 12:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 12:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.0939949s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 12:10:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 12:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 12:10:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 12:10:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 12:10:00 logger.go:35: Account max101 (ID: 3) token expires in 5h58m21s, no need to refresh yet
[INFO] 2025/08/21 12:10:00 logger.go:35: Claude accounts token refresh check task completed in 3.4399ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 12:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 12:20:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 12:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 12:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 12:20:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 12:20:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 12:20:00 logger.go:35: Account max101 (ID: 3) token expires in 5h48m21s, no need to refresh yet
[INFO] 2025/08/21 12:20:00 logger.go:35: Claude accounts token refresh check task completed in 3.1126ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 12:30:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 12:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 12:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 12:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 12:30:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 12:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 12:30:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 12:30:00 logger.go:35: Account max101 (ID: 3) token expires in 5h38m21s, no need to refresh yet
[INFO] 2025/08/21 12:30:00 logger.go:35: Claude accounts token refresh check task completed in 2.8938ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 12:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 12:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 12:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.5199532s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 12:40:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 12:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 12:40:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 12:40:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 12:40:00 logger.go:35: Account max101 (ID: 3) token expires in 5h28m21s, no need to refresh yet
[INFO] 2025/08/21 12:40:00 logger.go:35: Claude accounts token refresh check task completed in 3.8591ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 12:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 12:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 12:50:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 12:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 12:50:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 12:50:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 12:50:00 logger.go:35: Account max101 (ID: 3) token expires in 5h18m21s, no need to refresh yet
[INFO] 2025/08/21 12:50:00 logger.go:35: Claude accounts token refresh check task completed in 1.7593ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 13:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 13:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 13:00:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 13:00:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 13:00:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 13:00:00 logger.go:35: Account max101 (ID: 3) token expires in 5h8m21s, no need to refresh yet
[INFO] 2025/08/21 13:00:00 logger.go:35: Claude accounts token refresh check task completed in 2.1449ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 13:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 13:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 13:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 13:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 13:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.3133678s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 13:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 13:10:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 13:10:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 13:10:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 13:10:00 logger.go:35: Account max101 (ID: 3) token expires in 4h58m21s, no need to refresh yet
[INFO] 2025/08/21 13:10:00 logger.go:35: Claude accounts token refresh check task completed in 10.9218ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 13:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 13:20:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 13:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 13:20:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 13:20:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 13:20:00 logger.go:35: Account max101 (ID: 3) token expires in 4h48m21s, no need to refresh yet
[INFO] 2025/08/21 13:20:00 logger.go:35: Claude accounts token refresh check task completed in 1.7908ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 13:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 13:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 13:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 13:30:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 13:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 13:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 13:30:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 13:30:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 13:30:00 logger.go:35: Account max101 (ID: 3) token expires in 4h38m21s, no need to refresh yet
[INFO] 2025/08/21 13:30:00 logger.go:35: Claude accounts token refresh check task completed in 13.2083ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 13:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 13:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 13:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.2593299s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 13:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 13:40:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 13:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 13:40:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 13:40:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 13:40:00 logger.go:35: Account max101 (ID: 3) token expires in 4h28m21s, no need to refresh yet
[INFO] 2025/08/21 13:40:00 logger.go:35: Claude accounts token refresh check task completed in 2.4016ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 13:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 13:50:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 13:50:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 13:50:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 13:50:00 logger.go:35: Account max101 (ID: 3) token expires in 4h18m21s, no need to refresh yet
[INFO] 2025/08/21 13:50:00 logger.go:35: Claude accounts token refresh check task completed in 4.418ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 13:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 13:56:05 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 13:56:05 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 15354, cost: $0.088764
[INFO] 2025/08/21 13:58:13 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 15939, cost: $0.045103
[INFO] 2025/08/21 13:58:22 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 16334, cost: $0.041389
[INFO] 2025/08/21 13:59:03 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 16316, cost: $0.031613
[INFO] 2025/08/21 13:59:09 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 16773, cost: $0.043191
[INFO] 2025/08/21 13:59:16 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 18394, cost: $0.067563
[INFO] 2025/08/21 13:59:23 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 20726, cost: $0.083978
[INFO] 2025/08/21 13:59:31 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 21151, cost: $0.051563
[INFO] 2025/08/21 13:59:37 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 21764, cost: $0.047972
[INFO] 2025/08/21 13:59:50 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 21842, cost: $0.040463
[INFO] 2025/08/21 13:59:59 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 23829, cost: $0.079487
[INFO] 2025/08/21 14:00:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 14:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 14:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 14:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 14:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 14:00:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 14:00:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 14:00:00 logger.go:35: Account max101 (ID: 3) token expires in 4h8m21s, no need to refresh yet
[INFO] 2025/08/21 14:00:00 logger.go:35: Claude accounts token refresh check task completed in 3.3641ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 14:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 14:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 14:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.0522239s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 14:00:06 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 24754, cost: $0.064280
[INFO] 2025/08/21 14:00:18 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 27270, cost: $0.103082
[INFO] 2025/08/21 14:00:59 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 27221, cost: $0.092688
[INFO] 2025/08/21 14:01:07 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 14:01:07 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 27663, cost: $0.060842
[INFO] 2025/08/21 14:01:16 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 29162, cost: $0.083011
[INFO] 2025/08/21 14:01:28 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 30570, cost: $0.089461
[INFO] 2025/08/21 14:01:34 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 30716, cost: $0.053596
[INFO] 2025/08/21 14:02:16 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 32159, cost: $0.153940
[INFO] 2025/08/21 14:02:53 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 30726, cost: $0.046197
[INFO] 2025/08/21 14:08:34 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 14:08:34 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 32192, cost: $0.412873
[INFO] 2025/08/21 14:08:42 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 32697, cost: $0.069401
[INFO] 2025/08/21 14:08:55 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 32778, cost: $0.055174
[INFO] 2025/08/21 14:09:08 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 33123, cost: $0.066785
[INFO] 2025/08/21 14:09:16 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 33456, cost: $0.069194
[INFO] 2025/08/21 14:09:25 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 33667, cost: $0.069167
[INFO] 2025/08/21 14:09:37 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 33845, cost: $0.068646
[INFO] 2025/08/21 14:09:46 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 34475, cost: $0.076753
[INFO] 2025/08/21 14:09:54 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 34679, cost: $0.070718
[INFO] 2025/08/21 14:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 14:10:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 14:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 14:10:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 14:10:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 14:10:00 logger.go:35: Account max101 (ID: 3) token expires in 3h58m21s, no need to refresh yet
[INFO] 2025/08/21 14:10:00 logger.go:35: Claude accounts token refresh check task completed in 2.8048ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 14:10:02 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 34822, cost: $0.067677
[INFO] 2025/08/21 14:10:07 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 36458, cost: $0.087740
[INFO] 2025/08/21 14:11:15 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 36604, cost: $0.067760
[INFO] 2025/08/21 14:11:23 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 37125, cost: $0.077439
[INFO] 2025/08/21 14:11:30 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 37901, cost: $0.081479
[INFO] 2025/08/21 14:11:44 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 39053, cost: $0.101022
[INFO] 2025/08/21 14:12:00 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 39217, cost: $0.067882
[INFO] 2025/08/21 14:13:03 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 39555, cost: $0.083816
[INFO] 2025/08/21 14:13:36 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 14:13:36 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 40962, cost: $0.159928
[INFO] 2025/08/21 14:13:41 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 41087, cost: $0.085053
[INFO] 2025/08/21 14:16:13 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 41330, cost: $0.078086
[INFO] 2025/08/21 14:16:22 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 41967, cost: $0.086947
[INFO] 2025/08/21 14:16:32 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 43570, cost: $0.105083
[INFO] 2025/08/21 14:16:40 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 44969, cost: $0.095888
[INFO] 2025/08/21 14:17:22 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 45409, cost: $0.101949
[INFO] 2025/08/21 14:17:41 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 45665, cost: $0.082719
[INFO] 2025/08/21 14:20:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 14:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 14:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 14:20:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 14:20:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 14:20:00 logger.go:35: Account max101 (ID: 3) token expires in 3h48m21s, no need to refresh yet
[INFO] 2025/08/21 14:20:00 logger.go:35: Claude accounts token refresh check task completed in 1.6807ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 14:20:17 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 14:20:17 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 45643, cost: $0.068931
[INFO] 2025/08/21 14:20:48 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 46099, cost: $0.102846
[INFO] 2025/08/21 14:21:29 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 46351, cost: $0.083454
[INFO] 2025/08/21 14:23:36 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 49055, cost: $0.274116
[INFO] 2025/08/21 14:23:45 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 49180, cost: $0.123167
[INFO] 2025/08/21 14:29:03 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 14:29:03 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 49364, cost: $0.734454
[INFO] 2025/08/21 14:29:12 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 49875, cost: $0.095319
[INFO] 2025/08/21 14:29:27 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 53488, cost: $0.165559
[INFO] 2025/08/21 14:29:38 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 53810, cost: $0.101904
[INFO] 2025/08/21 14:29:52 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 56802, cost: $0.160016
[INFO] 2025/08/21 14:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 14:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 14:30:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 14:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 14:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 14:30:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 14:30:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 14:30:00 logger.go:35: Account max101 (ID: 3) token expires in 3h38m21s, no need to refresh yet
[INFO] 2025/08/21 14:30:00 logger.go:35: Claude accounts token refresh check task completed in 11.2423ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 14:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 14:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 14:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.0289509s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 14:30:37 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 58698, cost: $0.224985
[INFO] 2025/08/21 14:30:47 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 58823, cost: $0.120665
[INFO] 2025/08/21 14:33:27 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 59004, cost: $0.101091
[INFO] 2025/08/21 14:33:37 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 59537, cost: $0.110542
[INFO] 2025/08/21 14:33:48 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 61957, cost: $0.150175
[INFO] 2025/08/21 14:34:02 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 62909, cost: $0.135619
[INFO] 2025/08/21 14:35:02 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 14:35:02 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 65660, cost: $0.297911
[INFO] 2025/08/21 14:35:09 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 65785, cost: $0.145702
[INFO] 2025/08/21 14:39:44 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 66083, cost: $0.114797
[INFO] 2025/08/21 14:39:56 logger.go:35: Shutting down server...
[INFO] 2025/08/21 14:39:56 logger.go:35: Cron service stopped
[INFO] 2025/08/21 14:39:56 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 14:39:56 logger.go:35: Cron service stopped
[INFO] 2025/08/21 14:40:09 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 14:40:09 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 14:40:09 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 14:40:09 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 14:40:09 logger.go:35: Redis connection established
[INFO] 2025/08/21 14:40:09 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 14:40:09 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 14:40:24 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 14:40:24 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 66705, cost: $0.126363
[INFO] 2025/08/21 14:49:46 logger.go:35: Shutting down server...
[INFO] 2025/08/21 14:49:46 logger.go:35: Cron service stopped
[INFO] 2025/08/21 14:49:46 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 14:49:46 logger.go:35: Cron service stopped
[INFO] 2025/08/21 14:49:56 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 14:49:56 logger.go:35: Invite system initialized successfully
[INFO] 2025/08/21 14:49:56 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 14:49:56 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 14:49:56 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 14:49:56 logger.go:35: Redis connection established
[INFO] 2025/08/21 14:49:56 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 14:49:56 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 14:50:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 14:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 14:50:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 14:50:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 14:50:00 logger.go:35: Account max101 (ID: 3) token expires in 3h18m21s, no need to refresh yet
[INFO] 2025/08/21 14:50:00 logger.go:35: Claude accounts token refresh check task completed in 19.6501ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 14:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 14:52:56 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 14:52:56 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 66692, cost: $1.061379
[INFO] 2025/08/21 14:53:07 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 66937, cost: $0.121216
[INFO] 2025/08/21 14:53:20 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 68462, cost: $0.146689
[INFO] 2025/08/21 14:53:34 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 71033, cost: $0.178518
[INFO] 2025/08/21 14:53:44 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 71437, cost: $0.134438
[INFO] 2025/08/21 14:53:57 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 73635, cost: $0.175805
[INFO] 2025/08/21 14:54:21 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 73807, cost: $0.120910
[INFO] 2025/08/21 14:56:28 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 74197, cost: $0.139584
[INFO] 2025/08/21 14:56:36 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 74403, cost: $0.121814
[INFO] 2025/08/21 14:59:01 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 14:59:01 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 76453, cost: $0.265012
[ERROR] 2025/08/21 14:59:07 logger.go:43: Billing deduction failed: 余额不足
[INFO] 2025/08/21 15:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 15:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 15:00:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 15:00:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 15:00:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 15:00:00 logger.go:35: Account max101 (ID: 3) token expires in 3h8m21s, no need to refresh yet
[INFO] 2025/08/21 15:00:00 logger.go:35: Claude accounts token refresh check task completed in 1.7861ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 15:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 15:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 15:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 15:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 15:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.1358232s. Recovered: 0, Failed: 1
[ERROR] 2025/08/21 15:01:21 logger.go:43: Billing deduction failed: 余额不足
[INFO] 2025/08/21 15:10:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 15:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 15:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 15:10:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 15:10:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 15:10:00 logger.go:35: Account max101 (ID: 3) token expires in 2h58m21s, no need to refresh yet
[INFO] 2025/08/21 15:10:00 logger.go:35: Claude accounts token refresh check task completed in 37.7406ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 15:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 15:20:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 15:20:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 15:20:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 15:20:00 logger.go:35: Account max101 (ID: 3) token expires in 2h48m21s, no need to refresh yet
[INFO] 2025/08/21 15:20:00 logger.go:35: Claude accounts token refresh check task completed in 2.349ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 15:20:00 logger.go:35: No rate limited accounts found for checking
[ERROR] 2025/08/21 15:25:32 logger.go:43: 邮件发送失败: SMTP认证失败: 535 Login fail. Account is abnormal, service is not open, password is incorrect, login frequency limited, or system is busy. More information at https://help.mail.qq.com/detail/108/1023
[ERROR] 2025/08/21 15:25:32 logger.go:43: 发送验证码失败: 邮件发送失败: SMTP认证失败: 535 Login fail. Account is abnormal, service is not open, password is incorrect, login frequency limited, or system is busy. More information at https://help.mail.qq.com/detail/108/1023
[INFO] 2025/08/21 15:25:33 logger.go:35: 邮件发送被缓存跳过: 131276813236@163.com
[INFO] 2025/08/21 15:25:33 logger.go:35: 验证码发送成功: 131276813236@163.com, 类型: email_verification
[INFO] 2025/08/21 15:26:28 logger.go:35: 验证码验证失败: 131276813236@163.com, 输入: 1111, 期望: 675276
[INFO] 2025/08/21 15:26:29 logger.go:35: 验证码验证失败: 131276813236@163.com, 输入: 1111, 期望: 675276
[INFO] 2025/08/21 15:26:30 logger.go:35: 验证码验证失败: 131276813236@163.com, 输入: 1111, 期望: 675276
[INFO] 2025/08/21 15:26:31 logger.go:35: 验证码验证失败: 131276813236@163.com, 输入: 1111, 期望: 675276
[INFO] 2025/08/21 15:26:40 logger.go:35: 验证码验证成功: 131276813236@163.com, 类型: email_verification
[ERROR] 2025/08/21 15:27:19 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/21 15:27:20 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/21 15:27:21 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/21 15:27:22 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/21 15:27:25 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/21 15:27:26 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/21 15:27:27 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/21 15:27:28 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[INFO] 2025/08/21 15:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 15:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 15:30:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 15:30:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 15:30:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 15:30:00 logger.go:35: Account max101 (ID: 3) token expires in 2h38m21s, no need to refresh yet
[INFO] 2025/08/21 15:30:00 logger.go:35: Claude accounts token refresh check task completed in 2.8137ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 15:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 15:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 15:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 15:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 15:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.1384088s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 15:32:43 logger.go:35: Shutting down server...
[INFO] 2025/08/21 15:32:43 logger.go:35: Cron service stopped
[INFO] 2025/08/21 15:32:43 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 15:32:43 logger.go:35: Cron service stopped
[INFO] 2025/08/21 15:34:56 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 15:34:57 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 15:34:57 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 15:34:57 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 15:34:57 logger.go:35: Redis connection established
[INFO] 2025/08/21 15:34:57 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 15:34:57 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 15:38:42 logger.go:35: Pricing cache refreshed with 9 models
[ERROR] 2025/08/21 15:38:42 logger.go:43: Billing deduction failed: 余额不足
[ERROR] 2025/08/21 15:38:55 logger.go:43: Billing deduction failed: 余额不足
[ERROR] 2025/08/21 15:39:28 logger.go:43: Billing deduction failed: 余额不足
[ERROR] 2025/08/21 15:39:37 logger.go:43: Billing deduction failed: 余额不足
[INFO] 2025/08/21 15:39:43 logger.go:35: Billing processed successfully for user 3, model: claude-opus-4-1-20250805, tokens: 24815, cost: $0.051989
[ERROR] 2025/08/21 15:39:51 logger.go:43: Billing deduction failed: 余额不足
[ERROR] 2025/08/21 15:39:57 logger.go:43: Billing deduction failed: 余额不足
[INFO] 2025/08/21 15:40:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 15:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 15:40:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 15:40:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 15:40:00 logger.go:35: Account max101 (ID: 3) token expires in 2h28m21s, no need to refresh yet
[INFO] 2025/08/21 15:40:00 logger.go:35: Claude accounts token refresh check task completed in 21.3611ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 15:40:00 logger.go:35: No rate limited accounts found for checking
[ERROR] 2025/08/21 15:40:09 logger.go:43: Billing deduction failed: 余额不足
[ERROR] 2025/08/21 15:40:16 logger.go:43: Billing deduction failed: 余额不足
[ERROR] 2025/08/21 15:40:23 logger.go:43: Billing deduction failed: 余额不足
[ERROR] 2025/08/21 15:40:30 logger.go:43: Billing deduction failed: 余额不足
[ERROR] 2025/08/21 15:40:39 logger.go:43: Billing deduction failed: 余额不足
[ERROR] 2025/08/21 15:40:45 logger.go:43: Billing deduction failed: 余额不足
[ERROR] 2025/08/21 15:41:26 logger.go:43: Billing deduction failed: 余额不足
[INFO] 2025/08/21 15:47:34 logger.go:35: Shutting down server...
[INFO] 2025/08/21 15:47:34 logger.go:35: Cron service stopped
[INFO] 2025/08/21 15:47:34 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 15:47:34 logger.go:35: Cron service stopped
[INFO] 2025/08/21 15:47:44 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 15:47:44 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 15:47:44 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 15:47:44 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 15:47:44 logger.go:35: Redis connection established
[INFO] 2025/08/21 15:47:44 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 15:47:44 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 15:47:57 logger.go:35: Pricing cache refreshed with 9 models
[ERROR] 2025/08/21 15:47:57 logger.go:43: Billing deduction failed: 余额不足
[INFO] 2025/08/21 15:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 15:50:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 15:50:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 15:50:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 15:50:00 logger.go:35: Account max101 (ID: 3) token expires in 2h18m21s, no need to refresh yet
[INFO] 2025/08/21 15:50:00 logger.go:35: Claude accounts token refresh check task completed in 1.9837ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 15:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 15:51:58 logger.go:35: Shutting down server...
[INFO] 2025/08/21 15:51:58 logger.go:35: Cron service stopped
[INFO] 2025/08/21 15:51:58 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 15:51:58 logger.go:35: Cron service stopped
[INFO] 2025/08/21 15:52:07 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 15:52:08 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 15:52:08 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 15:52:08 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 15:52:08 logger.go:35: Redis connection established
[INFO] 2025/08/21 15:52:08 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 15:52:08 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 15:52:17 logger.go:35: Pricing cache refreshed with 9 models
[ERROR] 2025/08/21 15:52:17 logger.go:43: Billing deduction failed: 余额不足
[ERROR] 2025/08/21 15:52:25 logger.go:43: Billing deduction failed: 余额不足
[INFO] 2025/08/21 15:55:43 logger.go:35: Shutting down server...
[INFO] 2025/08/21 15:55:43 logger.go:35: Cron service stopped
[INFO] 2025/08/21 15:55:43 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 15:55:43 logger.go:35: Cron service stopped
[INFO] 2025/08/21 15:55:52 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 15:55:53 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 15:55:53 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 15:55:53 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 15:55:53 logger.go:35: Redis connection established
[INFO] 2025/08/21 15:55:53 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 15:55:53 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 15:56:03 logger.go:35: Pricing cache refreshed with 9 models
[ERROR] 2025/08/21 15:56:03 logger.go:43: Billing deduction failed: 余额不足
[INFO] 2025/08/21 16:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 16:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 16:00:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 16:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 16:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 16:00:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 16:00:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 16:00:00 logger.go:35: Account max101 (ID: 3) token expires in 2h8m21s, no need to refresh yet
[INFO] 2025/08/21 16:00:00 logger.go:35: Claude accounts token refresh check task completed in 17.3396ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 16:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 16:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 16:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.1206191s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 16:00:57 logger.go:35: Shutting down server...
[INFO] 2025/08/21 16:00:57 logger.go:35: Cron service stopped
[INFO] 2025/08/21 16:00:57 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 16:00:57 logger.go:35: Cron service stopped
[INFO] 2025/08/21 16:01:07 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 16:01:07 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 16:01:07 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 16:01:07 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 16:01:07 logger.go:35: Redis connection established
[INFO] 2025/08/21 16:01:07 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 16:01:07 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 16:01:17 logger.go:35: [API_KEY_AUTH] API Key: sk-2**********************f71e (masked), User ID: 3
[INFO] 2025/08/21 16:01:17 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 3, Cost: $0.010000
[INFO] 2025/08/21 16:01:17 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 3, Type: balance
[INFO] 2025/08/21 16:01:21 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 16:01:21 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 3, API Key ID: 2, Cost: $0.092102
[INFO] 2025/08/21 16:01:21 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 3, Cost: $0.092102, API Key ID: 2
[ERROR] 2025/08/21 16:01:21 logger.go:43: [BILLING_DEDUCTION] Insufficient balance for User ID 3: Balance=0.0122, Required=0.092102
[ERROR] 2025/08/21 16:01:21 logger.go:43: Billing deduction failed: 余额不足
[INFO] 2025/08/21 16:04:21 logger.go:35: Shutting down server...
[INFO] 2025/08/21 16:04:21 logger.go:35: Cron service stopped
[INFO] 2025/08/21 16:04:21 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 16:04:21 logger.go:35: Cron service stopped
[INFO] 2025/08/21 16:04:31 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/21 16:04:32 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/21 16:04:32 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/21 16:04:32 logger.go:35: Database initialized successfully
[INFO] 2025/08/21 16:04:32 logger.go:35: Redis connection established
[INFO] 2025/08/21 16:04:32 logger.go:35: Cron service started successfully
[INFO] 2025/08/21 16:04:32 logger.go:35: Server starting on port 8088
[INFO] 2025/08/21 16:04:37 logger.go:35: [API_KEY_AUTH] API Key: sk-2**********************f71e (masked), User ID: 3
[INFO] 2025/08/21 16:04:37 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 3, Cost: $0.500000
[ERROR] 2025/08/21 16:04:37 logger.go:43: [QUOTA_CHECK] Insufficient quota for User ID 3: 余额不足且无可用套餐
[INFO] 2025/08/21 16:04:37 logger.go:35: [API_KEY_AUTH] API Key: sk-2**********************f71e (masked), User ID: 3
[INFO] 2025/08/21 16:04:37 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 3, Cost: $0.500000
[ERROR] 2025/08/21 16:04:37 logger.go:43: [QUOTA_CHECK] Insufficient quota for User ID 3: 余额不足且无可用套餐
[INFO] 2025/08/21 16:04:54 logger.go:35: [API_KEY_AUTH] API Key: sk-2**********************f71e (masked), User ID: 3
[INFO] 2025/08/21 16:04:54 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 3, Cost: $0.500000
[ERROR] 2025/08/21 16:04:54 logger.go:43: [QUOTA_CHECK] Insufficient quota for User ID 3: 余额不足且无可用套餐
[INFO] 2025/08/21 16:04:54 logger.go:35: [API_KEY_AUTH] API Key: sk-2**********************f71e (masked), User ID: 3
[INFO] 2025/08/21 16:04:54 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 3, Cost: $0.500000
[ERROR] 2025/08/21 16:04:54 logger.go:43: [QUOTA_CHECK] Insufficient quota for User ID 3: 余额不足且无可用套餐
[INFO] 2025/08/21 16:05:10 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:05:10 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:05:10 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: time_limit
[INFO] 2025/08/21 16:05:16 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 16:05:16 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.082978
[INFO] 2025/08/21 16:05:16 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.082978, API Key ID: 3
[INFO] 2025/08/21 16:05:16 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 14783, cost: $0.082978
[INFO] 2025/08/21 16:10:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 16:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 16:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 16:10:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 16:10:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 16:10:00 logger.go:35: Account max101 (ID: 3) token expires in 1h58m21s, no need to refresh yet
[INFO] 2025/08/21 16:10:00 logger.go:35: Claude accounts token refresh check task completed in 3.8284ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 16:13:03 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:13:03 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:13:03 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: time_limit
[INFO] 2025/08/21 16:13:10 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 16:13:10 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.085839
[INFO] 2025/08/21 16:13:10 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.085839, API Key ID: 3
[INFO] 2025/08/21 16:13:10 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 15198, cost: $0.085839
[INFO] 2025/08/21 16:13:49 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:13:49 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:13:49 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: time_limit
[INFO] 2025/08/21 16:13:54 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.033301
[INFO] 2025/08/21 16:13:54 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.033301, API Key ID: 3
[INFO] 2025/08/21 16:13:54 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 15400, cost: $0.033301
[INFO] 2025/08/21 16:13:55 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:13:55 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:13:55 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: time_limit
[INFO] 2025/08/21 16:14:00 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.032834
[INFO] 2025/08/21 16:14:00 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.032834, API Key ID: 3
[INFO] 2025/08/21 16:14:00 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 15529, cost: $0.032834
[INFO] 2025/08/21 16:14:00 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:14:00 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:14:00 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: time_limit
[INFO] 2025/08/21 16:14:09 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.208554
[INFO] 2025/08/21 16:14:09 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.208554, API Key ID: 3
[INFO] 2025/08/21 16:14:09 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 24668, cost: $0.208554
[INFO] 2025/08/21 16:14:10 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:14:10 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:14:10 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: time_limit
[INFO] 2025/08/21 16:14:17 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.054050
[INFO] 2025/08/21 16:14:17 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.054050, API Key ID: 3
[INFO] 2025/08/21 16:14:17 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 25107, cost: $0.054050
[INFO] 2025/08/21 16:14:17 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:14:17 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:14:17 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: time_limit
[INFO] 2025/08/21 16:14:38 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:14:38 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:14:38 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: time_limit
[INFO] 2025/08/21 16:14:39 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:14:39 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:14:39 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: time_limit
[INFO] 2025/08/21 16:14:52 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.068944
[INFO] 2025/08/21 16:14:52 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.068944, API Key ID: 3
[INFO] 2025/08/21 16:14:52 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 25508, cost: $0.068944
[INFO] 2025/08/21 16:15:03 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:15:03 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:15:03 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: time_limit
[INFO] 2025/08/21 16:15:12 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.052075
[INFO] 2025/08/21 16:15:12 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.052075, API Key ID: 3
[INFO] 2025/08/21 16:15:12 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 25311, cost: $0.052075
[INFO] 2025/08/21 16:15:13 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:15:13 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:15:13 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: time_limit
[INFO] 2025/08/21 16:15:21 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.057184
[INFO] 2025/08/21 16:15:21 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.057184, API Key ID: 3
[INFO] 2025/08/21 16:15:21 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 25810, cost: $0.057184
[INFO] 2025/08/21 16:15:21 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:15:21 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:15:21 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: time_limit
[INFO] 2025/08/21 16:15:27 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.073656
[INFO] 2025/08/21 16:15:27 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.073656, API Key ID: 3
[INFO] 2025/08/21 16:15:27 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 27197, cost: $0.073656
[INFO] 2025/08/21 16:15:28 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:15:28 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:15:28 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:15:40 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.345523
[INFO] 2025/08/21 16:15:40 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.345523, API Key ID: 3
[INFO] 2025/08/21 16:15:40 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:15:40 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 42161, cost: $0.345523
[INFO] 2025/08/21 16:15:41 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:15:41 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:15:41 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:15:48 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.084275
[INFO] 2025/08/21 16:15:48 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.084275, API Key ID: 3
[INFO] 2025/08/21 16:15:48 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:15:48 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 42485, cost: $0.084275
[INFO] 2025/08/21 16:15:48 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:15:48 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:15:48 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:15:57 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.116088
[INFO] 2025/08/21 16:15:57 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.116088, API Key ID: 3
[INFO] 2025/08/21 16:15:57 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:15:57 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 44722, cost: $0.116088
[INFO] 2025/08/21 16:15:57 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:15:57 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:15:57 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:16:11 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.138726
[INFO] 2025/08/21 16:16:11 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.138726, API Key ID: 3
[INFO] 2025/08/21 16:16:11 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:16:11 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 47239, cost: $0.138726
[INFO] 2025/08/21 16:16:11 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:16:11 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:16:11 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:16:18 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.090154
[INFO] 2025/08/21 16:16:18 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.090154, API Key ID: 3
[INFO] 2025/08/21 16:16:18 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:16:18 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 47540, cost: $0.090154
[INFO] 2025/08/21 16:16:18 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:16:18 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:16:18 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:16:24 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.086866
[INFO] 2025/08/21 16:16:24 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.086866, API Key ID: 3
[INFO] 2025/08/21 16:16:24 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:16:24 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 47956, cost: $0.086866
[INFO] 2025/08/21 16:16:24 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:16:24 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:16:24 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:16:31 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.094296
[INFO] 2025/08/21 16:16:31 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.094296, API Key ID: 3
[INFO] 2025/08/21 16:16:31 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:16:31 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 48644, cost: $0.094296
[INFO] 2025/08/21 16:16:32 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:16:32 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:16:32 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:16:43 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.098536
[INFO] 2025/08/21 16:16:43 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.098536, API Key ID: 3
[INFO] 2025/08/21 16:16:43 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:16:43 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 49803, cost: $0.098536
[INFO] 2025/08/21 16:17:08 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:17:08 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:17:08 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:17:17 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.089008
[INFO] 2025/08/21 16:17:17 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.089008, API Key ID: 3
[INFO] 2025/08/21 16:17:17 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:17:17 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 49974, cost: $0.089008
[INFO] 2025/08/21 16:17:17 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:17:17 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:17:17 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:17:25 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.094301
[INFO] 2025/08/21 16:17:25 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.094301, API Key ID: 3
[INFO] 2025/08/21 16:17:25 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:17:25 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 50475, cost: $0.094301
[INFO] 2025/08/21 16:17:25 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:17:25 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:17:25 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:17:32 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.090973
[INFO] 2025/08/21 16:17:32 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.090973, API Key ID: 3
[INFO] 2025/08/21 16:17:32 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:17:32 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 50845, cost: $0.090973
[INFO] 2025/08/21 16:17:32 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:17:32 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:17:32 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:17:38 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.091582
[INFO] 2025/08/21 16:17:38 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.091582, API Key ID: 3
[INFO] 2025/08/21 16:17:38 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:17:38 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 51180, cost: $0.091582
[INFO] 2025/08/21 16:17:38 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:17:38 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:17:38 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:17:55 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.115444
[INFO] 2025/08/21 16:17:55 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.115444, API Key ID: 3
[INFO] 2025/08/21 16:17:55 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:17:55 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 51938, cost: $0.115444
[INFO] 2025/08/21 16:17:55 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:17:55 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:17:55 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:18:02 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.099943
[INFO] 2025/08/21 16:18:02 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.099943, API Key ID: 3
[INFO] 2025/08/21 16:18:02 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:18:02 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 52271, cost: $0.099943
[INFO] 2025/08/21 16:18:03 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:18:03 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:18:03 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:18:10 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 16:18:10 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.139237
[INFO] 2025/08/21 16:18:10 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.139237, API Key ID: 3
[INFO] 2025/08/21 16:18:10 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:18:10 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 55036, cost: $0.139237
[INFO] 2025/08/21 16:18:10 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:18:10 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:18:10 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:18:26 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.205012
[INFO] 2025/08/21 16:18:26 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.205012, API Key ID: 3
[INFO] 2025/08/21 16:18:26 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:18:26 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 60298, cost: $0.205012
[INFO] 2025/08/21 16:18:27 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:18:27 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:18:27 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:18:47 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.146132
[INFO] 2025/08/21 16:18:47 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.146132, API Key ID: 3
[INFO] 2025/08/21 16:18:47 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:18:47 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 61023, cost: $0.146132
[INFO] 2025/08/21 16:20:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 16:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 16:20:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 16:20:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 16:20:00 logger.go:35: Account max101 (ID: 3) token expires in 1h48m21s, no need to refresh yet
[INFO] 2025/08/21 16:20:00 logger.go:35: Claude accounts token refresh check task completed in 2.793ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 16:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 16:20:57 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:20:57 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:20:57 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:21:07 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.119897
[INFO] 2025/08/21 16:21:07 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.119897, API Key ID: 3
[INFO] 2025/08/21 16:21:07 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:21:07 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 61294, cost: $0.119897
[INFO] 2025/08/21 16:21:08 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:21:08 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:21:08 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:22:01 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:22:01 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:22:01 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:22:08 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.101450
[INFO] 2025/08/21 16:22:08 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.101450, API Key ID: 3
[INFO] 2025/08/21 16:22:08 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:22:08 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 61793, cost: $0.101450
[INFO] 2025/08/21 16:22:08 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:22:08 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:22:08 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:22:19 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $1.082080
[INFO] 2025/08/21 16:22:19 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $1.082080, API Key ID: 3
[INFO] 2025/08/21 16:22:19 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:22:19 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 114092, cost: $1.082080
[INFO] 2025/08/21 16:22:19 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:22:19 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:22:19 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:22:34 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:22:34 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:22:34 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:22:50 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.203450
[INFO] 2025/08/21 16:22:50 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.203450, API Key ID: 3
[INFO] 2025/08/21 16:22:50 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:22:50 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 114698, cost: $0.203450
[INFO] 2025/08/21 16:23:18 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:23:18 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:23:18 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:23:28 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 16:23:28 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.194832
[INFO] 2025/08/21 16:23:28 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.194832, API Key ID: 3
[INFO] 2025/08/21 16:23:28 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:23:28 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 114681, cost: $0.194832
[INFO] 2025/08/21 16:23:29 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:23:29 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:23:29 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:23:36 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.191690
[INFO] 2025/08/21 16:23:36 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.191690, API Key ID: 3
[INFO] 2025/08/21 16:23:36 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:23:36 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 115015, cost: $0.191690
[INFO] 2025/08/21 16:23:36 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:23:36 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:23:36 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:23:45 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.210508
[INFO] 2025/08/21 16:23:45 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.210508, API Key ID: 3
[INFO] 2025/08/21 16:23:45 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:23:45 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 116448, cost: $0.210508
[INFO] 2025/08/21 16:23:45 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:23:45 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:23:45 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:23:56 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.232782
[INFO] 2025/08/21 16:23:56 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.232782, API Key ID: 3
[INFO] 2025/08/21 16:23:56 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:23:56 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 118412, cost: $0.232782
[INFO] 2025/08/21 16:23:56 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:23:56 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:23:56 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:24:37 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.320534
[INFO] 2025/08/21 16:24:37 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.320534, API Key ID: 3
[INFO] 2025/08/21 16:24:37 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:24:37 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 120313, cost: $0.320534
[INFO] 2025/08/21 16:27:21 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:27:21 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:27:21 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:28:08 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.380879
[INFO] 2025/08/21 16:28:08 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.380879, API Key ID: 3
[INFO] 2025/08/21 16:28:08 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:28:08 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 122662, cost: $0.380879
[INFO] 2025/08/21 16:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 16:30:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 16:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 16:30:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 16:30:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 16:30:00 logger.go:35: Account max101 (ID: 3) token expires in 1h38m21s, no need to refresh yet
[INFO] 2025/08/21 16:30:00 logger.go:35: Claude accounts token refresh check task completed in 2.1952ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 16:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 16:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 16:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 16:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 16:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.0331812s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 16:30:32 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:30:32 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:30:32 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:30:38 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 16:30:38 logger.go:35: No tokens consumed, skipping billing
[INFO] 2025/08/21 16:31:00 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:31:00 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:31:00 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:31:23 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.184985
[INFO] 2025/08/21 16:31:23 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.184985, API Key ID: 3
[INFO] 2025/08/21 16:31:23 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:31:23 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 122774, cost: $0.184985
[INFO] 2025/08/21 16:31:35 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:31:35 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:31:35 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:31:56 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.250756
[INFO] 2025/08/21 16:31:56 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.250756, API Key ID: 3
[INFO] 2025/08/21 16:31:56 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:31:56 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 123692, cost: $0.250756
[INFO] 2025/08/21 16:31:57 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:31:57 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:31:57 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:32:16 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.279221
[INFO] 2025/08/21 16:32:16 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.279221, API Key ID: 3
[INFO] 2025/08/21 16:32:16 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:32:16 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 125827, cost: $0.279221
[INFO] 2025/08/21 16:33:13 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:33:13 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:33:13 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:33:34 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.265841
[INFO] 2025/08/21 16:33:34 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.265841, API Key ID: 3
[INFO] 2025/08/21 16:33:34 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:33:34 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 126742, cost: $0.265841
[INFO] 2025/08/21 16:33:35 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:33:35 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:33:35 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:33:45 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.244454
[INFO] 2025/08/21 16:33:45 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.244454, API Key ID: 3
[INFO] 2025/08/21 16:33:45 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:33:45 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 128377, cost: $0.244454
[INFO] 2025/08/21 16:34:04 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:34:04 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:34:04 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:34:12 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.205400
[INFO] 2025/08/21 16:34:12 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.205400, API Key ID: 3
[INFO] 2025/08/21 16:34:12 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:34:12 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 128566, cost: $0.205400
[INFO] 2025/08/21 16:34:12 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:34:12 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:34:12 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:34:20 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.210179
[INFO] 2025/08/21 16:34:20 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.210179, API Key ID: 3
[INFO] 2025/08/21 16:34:20 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:34:20 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 128982, cost: $0.210179
[INFO] 2025/08/21 16:34:25 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:34:25 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:34:25 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:34:32 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.207646
[INFO] 2025/08/21 16:34:32 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.207646, API Key ID: 3
[INFO] 2025/08/21 16:34:32 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:34:32 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 129159, cost: $0.207646
[INFO] 2025/08/21 16:34:37 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:34:37 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:34:37 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:34:44 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.207075
[INFO] 2025/08/21 16:34:44 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.207075, API Key ID: 3
[INFO] 2025/08/21 16:34:44 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:34:44 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 129297, cost: $0.207075
[INFO] 2025/08/21 16:34:49 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:34:49 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:34:49 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:35:27 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.314244
[INFO] 2025/08/21 16:35:27 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.314244, API Key ID: 3
[INFO] 2025/08/21 16:35:27 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:35:27 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 130869, cost: $0.314244
[INFO] 2025/08/21 16:35:28 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:35:28 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:35:28 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:35:41 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 16:35:41 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.251695
[INFO] 2025/08/21 16:35:41 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.251695, API Key ID: 3
[INFO] 2025/08/21 16:35:41 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:35:41 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 131816, cost: $0.251695
[INFO] 2025/08/21 16:35:52 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:35:52 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:35:52 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:36:00 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.218308
[INFO] 2025/08/21 16:36:00 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.218308, API Key ID: 3
[INFO] 2025/08/21 16:36:00 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:36:00 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 132073, cost: $0.218308
[INFO] 2025/08/21 16:36:07 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:36:07 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:36:07 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:36:41 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.319457
[INFO] 2025/08/21 16:36:41 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.319457, API Key ID: 3
[INFO] 2025/08/21 16:36:41 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:36:41 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 133629, cost: $0.319457
[INFO] 2025/08/21 16:36:41 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:36:41 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:36:41 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:36:59 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.290768
[INFO] 2025/08/21 16:36:59 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.290768, API Key ID: 3
[INFO] 2025/08/21 16:36:59 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:36:59 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 135042, cost: $0.290768
[INFO] 2025/08/21 16:37:05 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:37:05 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:37:05 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:37:40 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.676135
[INFO] 2025/08/21 16:37:40 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.676135, API Key ID: 3
[INFO] 2025/08/21 16:37:40 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:37:40 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 44981, cost: $0.676135
[INFO] 2025/08/21 16:37:41 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:37:41 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:37:41 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: balance
[INFO] 2025/08/21 16:38:30 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.286295
[INFO] 2025/08/21 16:38:30 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.286295, API Key ID: 3
[INFO] 2025/08/21 16:38:30 logger.go:35: [BILLING_DEDUCTION] Deduction successful for User ID: 4, Type: balance
[INFO] 2025/08/21 16:38:30 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 48106, cost: $0.286295
[INFO] 2025/08/21 16:38:40 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:38:40 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[ERROR] 2025/08/21 16:38:40 logger.go:43: [QUOTA_CHECK] Insufficient quota for User ID 4: 余额不足且无可用套餐
[INFO] 2025/08/21 16:38:40 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:38:40 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[ERROR] 2025/08/21 16:38:40 logger.go:43: [QUOTA_CHECK] Insufficient quota for User ID 4: 余额不足且无可用套餐
[INFO] 2025/08/21 16:38:54 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:38:54 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[ERROR] 2025/08/21 16:38:54 logger.go:43: [QUOTA_CHECK] Insufficient quota for User ID 4: 余额不足且无可用套餐
[INFO] 2025/08/21 16:38:54 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:38:54 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[ERROR] 2025/08/21 16:38:54 logger.go:43: [QUOTA_CHECK] Insufficient quota for User ID 4: 余额不足且无可用套餐
[INFO] 2025/08/21 16:39:29 logger.go:35: AdminGetApiKeys result: page=1, limit=10, userID=<nil>, groupID=<nil>, total=2, apiKeysCount=2
[INFO] 2025/08/21 16:39:58 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:39:58 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:39:58 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 16:40:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 16:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 16:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 16:40:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 16:40:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 16:40:00 logger.go:35: Account max101 (ID: 3) token expires in 1h28m21s, no need to refresh yet
[INFO] 2025/08/21 16:40:00 logger.go:35: Claude accounts token refresh check task completed in 2.6021ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 16:40:21 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.178297
[INFO] 2025/08/21 16:40:21 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.178297, API Key ID: 3
[INFO] 2025/08/21 16:40:21 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 49033, cost: $0.178297
[INFO] 2025/08/21 16:40:21 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:40:21 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:40:21 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 16:41:08 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 16:41:08 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.294437
[INFO] 2025/08/21 16:41:08 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.294437, API Key ID: 3
[INFO] 2025/08/21 16:41:08 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 52892, cost: $0.294437
[INFO] 2025/08/21 16:41:13 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:41:13 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:41:13 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 16:41:46 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.240068
[INFO] 2025/08/21 16:41:46 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.240068, API Key ID: 3
[INFO] 2025/08/21 16:41:46 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 54535, cost: $0.240068
[INFO] 2025/08/21 16:41:46 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:41:46 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:41:46 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 16:42:13 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.123268
[INFO] 2025/08/21 16:42:13 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.123268, API Key ID: 3
[INFO] 2025/08/21 16:42:13 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 55287, cost: $0.123268
[INFO] 2025/08/21 16:42:32 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:42:32 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:42:32 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 16:42:57 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.083669
[INFO] 2025/08/21 16:42:57 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.083669, API Key ID: 3
[INFO] 2025/08/21 16:42:57 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 55319, cost: $0.083669
[INFO] 2025/08/21 16:43:12 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:43:12 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:43:12 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 16:44:09 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.299028
[INFO] 2025/08/21 16:44:09 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.299028, API Key ID: 3
[INFO] 2025/08/21 16:44:09 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 58200, cost: $0.299028
[INFO] 2025/08/21 16:44:22 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:44:22 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:44:22 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 16:44:58 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.256645
[INFO] 2025/08/21 16:44:58 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.256645, API Key ID: 3
[INFO] 2025/08/21 16:44:58 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 59845, cost: $0.256645
[INFO] 2025/08/21 16:44:59 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:44:59 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:44:59 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 16:45:09 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.139094
[INFO] 2025/08/21 16:45:09 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.139094, API Key ID: 3
[INFO] 2025/08/21 16:45:09 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 61017, cost: $0.139094
[INFO] 2025/08/21 16:46:36 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:46:36 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:46:36 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 16:47:13 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 16:47:13 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.092045
[INFO] 2025/08/21 16:47:13 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.092045, API Key ID: 3
[INFO] 2025/08/21 16:47:13 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 61038, cost: $0.092045
[INFO] 2025/08/21 16:48:58 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:48:58 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:48:58 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 16:49:37 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.091668
[INFO] 2025/08/21 16:49:37 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.091668, API Key ID: 3
[INFO] 2025/08/21 16:49:37 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 61040, cost: $0.091668
[INFO] 2025/08/21 16:50:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 16:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 16:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 16:50:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 16:50:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 16:50:00 logger.go:35: Account max101 (ID: 3) token expires in 1h18m21s, no need to refresh yet
[INFO] 2025/08/21 16:50:00 logger.go:35: Claude accounts token refresh check task completed in 1.7177ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 16:51:33 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:51:33 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:51:33 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 16:52:02 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.892596
[INFO] 2025/08/21 16:52:02 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.892596, API Key ID: 3
[INFO] 2025/08/21 16:52:02 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 61224, cost: $0.892596
[INFO] 2025/08/21 16:52:26 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:52:26 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:52:26 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 16:53:14 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 16:53:14 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.092528
[INFO] 2025/08/21 16:53:14 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.092528, API Key ID: 3
[INFO] 2025/08/21 16:53:14 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 61235, cost: $0.092528
[INFO] 2025/08/21 16:53:18 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 16:53:18 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 16:53:18 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 16:54:44 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.424990
[INFO] 2025/08/21 16:54:44 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.424990, API Key ID: 3
[INFO] 2025/08/21 16:54:44 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 65502, cost: $0.424990
[INFO] 2025/08/21 17:00:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 17:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 17:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 17:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 17:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 17:00:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 17:00:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 17:00:00 logger.go:35: Account max101 (ID: 3) token expires in 1h8m21s, no need to refresh yet
[INFO] 2025/08/21 17:00:00 logger.go:35: Claude accounts token refresh check task completed in 3.2764ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 17:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 17:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 17:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.1031152s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 17:02:00 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:02:00 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:02:00 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:02:32 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 17:02:32 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $1.031705
[INFO] 2025/08/21 17:02:32 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $1.031705, API Key ID: 3
[INFO] 2025/08/21 17:02:32 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 65602, cost: $1.031705
[INFO] 2025/08/21 17:02:59 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:02:59 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:02:59 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:03:23 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $1.051540
[INFO] 2025/08/21 17:03:23 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $1.051540, API Key ID: 3
[INFO] 2025/08/21 17:03:23 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 66743, cost: $1.051540
[INFO] 2025/08/21 17:03:23 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:03:23 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:03:23 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:03:57 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.267994
[INFO] 2025/08/21 17:03:57 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.267994, API Key ID: 3
[INFO] 2025/08/21 17:03:57 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 69865, cost: $0.267994
[INFO] 2025/08/21 17:03:57 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:03:57 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:03:57 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:04:05 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.149006
[INFO] 2025/08/21 17:04:05 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.149006, API Key ID: 3
[INFO] 2025/08/21 17:04:05 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 70668, cost: $0.149006
[INFO] 2025/08/21 17:05:18 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:05:18 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:05:18 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:06:42 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.518052
[INFO] 2025/08/21 17:06:42 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.518052, API Key ID: 3
[INFO] 2025/08/21 17:06:42 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 75053, cost: $0.518052
[INFO] 2025/08/21 17:06:47 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:06:47 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:06:47 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:07:19 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.308864
[INFO] 2025/08/21 17:07:19 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.308864, API Key ID: 3
[INFO] 2025/08/21 17:07:19 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 76817, cost: $0.308864
[INFO] 2025/08/21 17:07:19 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:07:19 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:07:19 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:07:42 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 17:07:42 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.157483
[INFO] 2025/08/21 17:07:42 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.157483, API Key ID: 3
[INFO] 2025/08/21 17:07:42 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 77611, cost: $0.157483
[INFO] 2025/08/21 17:07:55 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:07:55 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:07:55 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:09:17 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.588996
[INFO] 2025/08/21 17:09:17 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.588996, API Key ID: 3
[INFO] 2025/08/21 17:09:17 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 82277, cost: $0.588996
[INFO] 2025/08/21 17:09:21 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:09:21 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:09:21 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:09:46 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.206622
[INFO] 2025/08/21 17:09:46 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.206622, API Key ID: 3
[INFO] 2025/08/21 17:09:46 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 82350, cost: $0.206622
[INFO] 2025/08/21 17:10:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 17:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 17:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 17:10:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 17:10:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 17:10:00 logger.go:35: Account max101 (ID: 3) token expires in 58m21s, no need to refresh yet
[INFO] 2025/08/21 17:10:00 logger.go:35: Claude accounts token refresh check task completed in 2.8396ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 17:10:20 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:10:20 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:10:20 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:10:50 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.288402
[INFO] 2025/08/21 17:10:50 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.288402, API Key ID: 3
[INFO] 2025/08/21 17:10:50 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 83477, cost: $0.288402
[INFO] 2025/08/21 17:10:50 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:10:50 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:10:50 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:11:30 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.171983
[INFO] 2025/08/21 17:11:30 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.171983, API Key ID: 3
[INFO] 2025/08/21 17:11:30 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 84963, cost: $0.171983
[INFO] 2025/08/21 17:11:43 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:11:43 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:11:43 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:11:59 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $1.330259
[INFO] 2025/08/21 17:11:59 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $1.330259, API Key ID: 3
[INFO] 2025/08/21 17:11:59 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 84573, cost: $1.330259
[INFO] 2025/08/21 17:12:12 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:12:12 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:12:12 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:12:22 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.139833
[INFO] 2025/08/21 17:12:22 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.139833, API Key ID: 3
[INFO] 2025/08/21 17:12:22 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 84760, cost: $0.139833
[INFO] 2025/08/21 17:12:22 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:12:22 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:12:22 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:12:33 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.208496
[INFO] 2025/08/21 17:12:33 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.208496, API Key ID: 3
[INFO] 2025/08/21 17:12:33 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 88396, cost: $0.208496
[INFO] 2025/08/21 17:12:33 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:12:33 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:12:33 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:13:09 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 17:13:09 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.335370
[INFO] 2025/08/21 17:13:09 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.335370, API Key ID: 3
[INFO] 2025/08/21 17:13:09 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 94336, cost: $0.335370
[INFO] 2025/08/21 17:13:10 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:13:10 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:13:10 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:13:18 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.195751
[INFO] 2025/08/21 17:13:18 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.195751, API Key ID: 3
[INFO] 2025/08/21 17:13:18 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 95287, cost: $0.195751
[INFO] 2025/08/21 17:13:18 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:13:18 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:13:18 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:13:26 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.158599
[INFO] 2025/08/21 17:13:26 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.158599, API Key ID: 3
[INFO] 2025/08/21 17:13:26 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 95477, cost: $0.158599
[INFO] 2025/08/21 17:13:32 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:13:32 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:13:32 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:13:33 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:13:33 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:13:33 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:13:46 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $1.030801
[INFO] 2025/08/21 17:13:46 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $1.030801, API Key ID: 3
[INFO] 2025/08/21 17:13:46 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 142193, cost: $1.030801
[INFO] 2025/08/21 17:14:10 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:14:10 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:14:10 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:14:35 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $1.084666
[INFO] 2025/08/21 17:14:35 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $1.084666, API Key ID: 3
[INFO] 2025/08/21 17:14:35 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 143014, cost: $1.084666
[INFO] 2025/08/21 17:14:35 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:14:35 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:14:35 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:14:59 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.324647
[INFO] 2025/08/21 17:14:59 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.324647, API Key ID: 3
[INFO] 2025/08/21 17:14:59 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 145387, cost: $0.324647
[INFO] 2025/08/21 17:15:08 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:15:08 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:15:08 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:15:17 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:15:17 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:15:17 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:15:38 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:15:38 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:15:38 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:15:47 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.252035
[INFO] 2025/08/21 17:15:47 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.252035, API Key ID: 3
[INFO] 2025/08/21 17:15:47 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 145774, cost: $0.252035
[INFO] 2025/08/21 17:15:52 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:15:52 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:15:52 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:16:08 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $2.501777
[INFO] 2025/08/21 17:16:08 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $2.501777, API Key ID: 3
[INFO] 2025/08/21 17:16:08 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 146144, cost: $2.501777
[INFO] 2025/08/21 17:16:12 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:16:12 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:16:12 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:16:25 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.258355
[INFO] 2025/08/21 17:16:25 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.258355, API Key ID: 3
[INFO] 2025/08/21 17:16:25 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 146753, cost: $0.258355
[INFO] 2025/08/21 17:16:37 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:16:37 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:16:37 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:16:48 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.252906
[INFO] 2025/08/21 17:16:48 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.252906, API Key ID: 3
[INFO] 2025/08/21 17:16:48 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 147212, cost: $0.252906
[INFO] 2025/08/21 17:17:21 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:17:21 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:17:21 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:18:03 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.354159
[INFO] 2025/08/21 17:18:03 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.354159, API Key ID: 3
[INFO] 2025/08/21 17:18:03 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 149064, cost: $0.354159
[INFO] 2025/08/21 17:18:03 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:18:03 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:18:03 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:18:18 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 17:18:18 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.290357
[INFO] 2025/08/21 17:18:18 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.290357, API Key ID: 3
[INFO] 2025/08/21 17:18:18 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 150162, cost: $0.290357
[INFO] 2025/08/21 17:18:21 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:18:21 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:18:21 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:18:33 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.262904
[INFO] 2025/08/21 17:18:33 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.262904, API Key ID: 3
[INFO] 2025/08/21 17:18:33 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 150768, cost: $0.262904
[INFO] 2025/08/21 17:18:38 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:18:38 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:18:38 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:18:43 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:18:43 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:18:43 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:18:54 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.251967
[INFO] 2025/08/21 17:18:54 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.251967, API Key ID: 3
[INFO] 2025/08/21 17:18:54 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 151286, cost: $0.251967
[INFO] 2025/08/21 17:18:58 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:18:58 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:18:58 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:19:10 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.338634
[INFO] 2025/08/21 17:19:10 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.338634, API Key ID: 3
[INFO] 2025/08/21 17:19:10 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 150800, cost: $0.338634
[INFO] 2025/08/21 17:19:14 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:19:14 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:19:14 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:19:24 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.258256
[INFO] 2025/08/21 17:19:24 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.258256, API Key ID: 3
[INFO] 2025/08/21 17:19:24 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 151282, cost: $0.258256
[INFO] 2025/08/21 17:19:47 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:19:47 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:19:47 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:19:56 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.249478
[INFO] 2025/08/21 17:19:56 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.249478, API Key ID: 3
[INFO] 2025/08/21 17:19:56 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 151617, cost: $0.249478
[INFO] 2025/08/21 17:19:57 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:19:57 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:19:57 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:20:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 17:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 17:20:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 17:20:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 17:20:00 logger.go:35: Account max101 (ID: 3) token expires in 48m21s, no need to refresh yet
[INFO] 2025/08/21 17:20:00 logger.go:35: Claude accounts token refresh check task completed in 1.7184ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 17:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 17:20:11 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.270097
[INFO] 2025/08/21 17:20:11 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.270097, API Key ID: 3
[INFO] 2025/08/21 17:20:11 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 152272, cost: $0.270097
[INFO] 2025/08/21 17:20:16 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:20:16 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:20:16 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:20:59 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.243071
[INFO] 2025/08/21 17:20:59 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.243071, API Key ID: 3
[INFO] 2025/08/21 17:20:59 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 152497, cost: $0.243071
[INFO] 2025/08/21 17:21:02 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:21:02 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:21:02 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:21:39 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $2.674821
[INFO] 2025/08/21 17:21:39 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $2.674821, API Key ID: 3
[INFO] 2025/08/21 17:21:39 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 153615, cost: $2.674821
[INFO] 2025/08/21 17:21:40 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:21:40 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:21:40 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:22:19 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.393895
[INFO] 2025/08/21 17:22:19 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.393895, API Key ID: 3
[INFO] 2025/08/21 17:22:19 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 156701, cost: $0.393895
[INFO] 2025/08/21 17:22:20 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:22:20 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:22:20 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:22:41 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:22:41 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:22:41 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:22:52 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:22:52 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:22:52 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:24:14 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 17:24:14 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $2.703589
[INFO] 2025/08/21 17:24:14 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $2.703589, API Key ID: 3
[INFO] 2025/08/21 17:24:14 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 144186, cost: $2.703589
[INFO] 2025/08/21 17:24:14 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:24:14 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:24:14 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:25:14 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:25:14 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:25:14 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:25:19 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:25:19 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:25:19 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:25:20 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:25:20 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:25:20 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:25:23 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:25:23 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:25:23 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:25:27 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:25:27 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:25:27 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:26:04 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:26:04 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:26:04 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:26:29 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:26:29 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:26:29 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:27:01 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:27:01 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:27:01 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:27:58 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:27:58 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:27:58 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:28:58 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:28:58 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:28:58 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:29:17 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 17:29:17 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $2.767325
[INFO] 2025/08/21 17:29:17 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $2.767325, API Key ID: 3
[INFO] 2025/08/21 17:29:17 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 157687, cost: $2.767325
[INFO] 2025/08/21 17:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 17:30:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 17:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 17:30:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 17:30:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 17:30:00 logger.go:35: Account max101 (ID: 3) token expires in 38m21s, no need to refresh yet
[INFO] 2025/08/21 17:30:00 logger.go:35: Claude accounts token refresh check task completed in 2.1694ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 17:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 17:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 17:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 17:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 17:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.9867664s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 17:30:26 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:30:26 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:30:26 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:31:00 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $2.703776
[INFO] 2025/08/21 17:31:00 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $2.703776, API Key ID: 3
[INFO] 2025/08/21 17:31:00 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 144196, cost: $2.703776
[INFO] 2025/08/21 17:31:00 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:31:00 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:31:00 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:31:07 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:31:07 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:31:07 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:31:27 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.334146
[INFO] 2025/08/21 17:31:27 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.334146, API Key ID: 3
[INFO] 2025/08/21 17:31:27 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 157651, cost: $0.334146
[INFO] 2025/08/21 17:31:39 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:31:39 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:31:39 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:32:40 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.249538
[INFO] 2025/08/21 17:32:40 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.249538, API Key ID: 3
[INFO] 2025/08/21 17:32:40 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 144200, cost: $0.249538
[INFO] 2025/08/21 17:32:40 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:32:40 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:32:40 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:32:54 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.253077
[INFO] 2025/08/21 17:32:54 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.253077, API Key ID: 3
[INFO] 2025/08/21 17:32:54 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 157655, cost: $0.253077
[INFO] 2025/08/21 17:32:58 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:32:58 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:32:58 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:33:53 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.254545
[INFO] 2025/08/21 17:33:53 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.254545, API Key ID: 3
[INFO] 2025/08/21 17:33:53 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 144467, cost: $0.254545
[INFO] 2025/08/21 17:33:53 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:33:53 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:33:53 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:34:01 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.255468
[INFO] 2025/08/21 17:34:01 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.255468, API Key ID: 3
[INFO] 2025/08/21 17:34:01 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 157934, cost: $0.255468
[INFO] 2025/08/21 17:34:26 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:34:26 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:34:26 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:34:35 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 17:34:35 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.349650
[INFO] 2025/08/21 17:34:35 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.349650, API Key ID: 3
[INFO] 2025/08/21 17:34:35 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 150428, cost: $0.349650
[INFO] 2025/08/21 17:34:35 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:34:35 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:34:35 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:34:49 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.378073
[INFO] 2025/08/21 17:34:49 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.378073, API Key ID: 3
[INFO] 2025/08/21 17:34:49 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 164141, cost: $0.378073
[INFO] 2025/08/21 17:36:01 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:36:01 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:36:01 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:37:13 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.507121
[INFO] 2025/08/21 17:37:13 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.507121, API Key ID: 3
[INFO] 2025/08/21 17:37:13 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 152930, cost: $0.507121
[INFO] 2025/08/21 17:37:15 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:37:15 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:37:15 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:37:30 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $1.425771
[INFO] 2025/08/21 17:37:30 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $1.425771, API Key ID: 3
[INFO] 2025/08/21 17:37:30 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 88802, cost: $1.425771
[INFO] 2025/08/21 17:37:31 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:37:31 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:37:31 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:37:40 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.156817
[INFO] 2025/08/21 17:37:40 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.156817, API Key ID: 3
[INFO] 2025/08/21 17:37:40 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 89137, cost: $0.156817
[INFO] 2025/08/21 17:37:41 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:37:41 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:37:41 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:37:53 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.166481
[INFO] 2025/08/21 17:37:53 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.166481, API Key ID: 3
[INFO] 2025/08/21 17:37:53 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 89629, cost: $0.166481
[INFO] 2025/08/21 17:37:53 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:37:53 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:37:53 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:38:01 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.154042
[INFO] 2025/08/21 17:38:01 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.154042, API Key ID: 3
[INFO] 2025/08/21 17:38:01 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 89855, cost: $0.154042
[INFO] 2025/08/21 17:38:01 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:38:01 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:38:01 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:38:10 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.188918
[INFO] 2025/08/21 17:38:10 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.188918, API Key ID: 3
[INFO] 2025/08/21 17:38:10 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 92018, cost: $0.188918
[INFO] 2025/08/21 17:38:10 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:38:10 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:38:10 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:38:18 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.154345
[INFO] 2025/08/21 17:38:18 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.154345, API Key ID: 3
[INFO] 2025/08/21 17:38:18 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 92223, cost: $0.154345
[INFO] 2025/08/21 17:38:18 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:38:18 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:38:18 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:38:27 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.157581
[INFO] 2025/08/21 17:38:27 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.157581, API Key ID: 3
[INFO] 2025/08/21 17:38:27 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 92624, cost: $0.157581
[INFO] 2025/08/21 17:38:27 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:38:27 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:38:27 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:38:39 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.174090
[INFO] 2025/08/21 17:38:39 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.174090, API Key ID: 3
[INFO] 2025/08/21 17:38:39 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 93251, cost: $0.174090
[INFO] 2025/08/21 17:38:58 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:38:58 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:38:58 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:39:02 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:39:02 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:39:02 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:39:14 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.161328
[INFO] 2025/08/21 17:39:14 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.161328, API Key ID: 3
[INFO] 2025/08/21 17:39:14 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 93911, cost: $0.161328
[INFO] 2025/08/21 17:39:29 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:39:29 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:39:29 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:39:44 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 17:39:44 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.249491
[INFO] 2025/08/21 17:39:44 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.249491, API Key ID: 3
[INFO] 2025/08/21 17:39:44 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 93656, cost: $0.249491
[INFO] 2025/08/21 17:39:44 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:39:44 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:39:44 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:39:56 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.181096
[INFO] 2025/08/21 17:39:56 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.181096, API Key ID: 3
[INFO] 2025/08/21 17:39:56 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 94688, cost: $0.181096
[INFO] 2025/08/21 17:39:57 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:39:57 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:39:57 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 17:40:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 17:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 17:40:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 17:40:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 17:40:00 logger.go:35: Account max101 (ID: 3) token expires in 28m21s, no need to refresh yet
[INFO] 2025/08/21 17:40:00 logger.go:35: Claude accounts token refresh check task completed in 2.0282ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 17:40:20 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.243344
[INFO] 2025/08/21 17:40:20 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.243344, API Key ID: 3
[INFO] 2025/08/21 17:40:20 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 96747, cost: $0.243344
[INFO] 2025/08/21 17:40:20 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:40:20 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:40:20 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:40:31 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.194213
[INFO] 2025/08/21 17:40:31 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.194213, API Key ID: 3
[INFO] 2025/08/21 17:40:31 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 97803, cost: $0.194213
[INFO] 2025/08/21 17:40:31 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:40:31 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:40:31 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:40:36 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:40:36 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:40:36 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:40:46 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.169888
[INFO] 2025/08/21 17:40:46 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.169888, API Key ID: 3
[INFO] 2025/08/21 17:40:46 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 98086, cost: $0.169888
[INFO] 2025/08/21 17:40:50 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:40:50 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:40:50 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:42:31 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.244238
[INFO] 2025/08/21 17:42:31 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.244238, API Key ID: 3
[INFO] 2025/08/21 17:42:31 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 97848, cost: $0.244238
[INFO] 2025/08/21 17:42:31 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:42:31 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:42:31 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:42:41 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.174331
[INFO] 2025/08/21 17:42:41 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.174331, API Key ID: 3
[INFO] 2025/08/21 17:42:41 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 98379, cost: $0.174331
[INFO] 2025/08/21 17:42:41 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:42:41 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:42:41 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:42:50 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.176101
[INFO] 2025/08/21 17:42:50 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.176101, API Key ID: 3
[INFO] 2025/08/21 17:42:50 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 98971, cost: $0.176101
[INFO] 2025/08/21 17:42:51 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:42:51 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:42:51 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:42:58 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.164955
[INFO] 2025/08/21 17:42:58 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.164955, API Key ID: 3
[INFO] 2025/08/21 17:42:58 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 99147, cost: $0.164955
[INFO] 2025/08/21 17:42:59 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:42:59 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:42:59 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:43:00 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:43:00 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:43:00 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:43:11 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.185654
[INFO] 2025/08/21 17:43:11 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.185654, API Key ID: 3
[INFO] 2025/08/21 17:43:11 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 99766, cost: $0.185654
[INFO] 2025/08/21 17:47:03 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:47:03 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:47:03 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:47:26 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 17:47:26 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.223523
[INFO] 2025/08/21 17:47:26 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.223523, API Key ID: 3
[INFO] 2025/08/21 17:47:26 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 99670, cost: $0.223523
[INFO] 2025/08/21 17:47:32 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:47:32 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:47:32 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:47:42 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.182663
[INFO] 2025/08/21 17:47:42 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.182663, API Key ID: 3
[INFO] 2025/08/21 17:47:42 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 100199, cost: $0.182663
[INFO] 2025/08/21 17:47:43 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:47:43 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:47:43 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:47:49 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.155257
[INFO] 2025/08/21 17:47:49 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.155257, API Key ID: 3
[INFO] 2025/08/21 17:47:49 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 100230, cost: $0.155257
[INFO] 2025/08/21 17:49:03 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:49:03 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:49:03 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:49:17 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.198350
[INFO] 2025/08/21 17:49:17 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.198350, API Key ID: 3
[INFO] 2025/08/21 17:49:17 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 101107, cost: $0.198350
[INFO] 2025/08/21 17:49:17 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:49:17 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:49:17 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:49:24 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.162304
[INFO] 2025/08/21 17:49:24 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.162304, API Key ID: 3
[INFO] 2025/08/21 17:49:25 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 101472, cost: $0.162304
[INFO] 2025/08/21 17:49:32 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:49:32 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:49:32 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:49:59 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $1.711581
[INFO] 2025/08/21 17:49:59 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $1.711581, API Key ID: 3
[INFO] 2025/08/21 17:49:59 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 102169, cost: $1.711581
[INFO] 2025/08/21 17:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 17:50:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 17:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 17:50:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 17:50:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 17:50:00 logger.go:35: Account max101 (ID: 3) token expires in 18m21s, attempting to refresh
[INFO] 2025/08/21 17:50:02 logger.go:35: Account max101 (ID: 3) token refreshed successfully, new token expires at 2025-08-22 01:50:02
[INFO] 2025/08/21 17:50:02 logger.go:35: Account max101 (ID: 3) token refreshed successfully
[INFO] 2025/08/21 17:50:02 logger.go:35: Claude accounts token refresh check task completed in 2.135794s. Refreshed: 1, Skipped: 1, Failed: 0
[INFO] 2025/08/21 17:50:34 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:50:34 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:50:34 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:51:04 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.254880
[INFO] 2025/08/21 17:51:04 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.254880, API Key ID: 3
[INFO] 2025/08/21 17:51:04 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 103649, cost: $0.254880
[INFO] 2025/08/21 17:51:04 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:51:04 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:51:04 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:51:13 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.199264
[INFO] 2025/08/21 17:51:13 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.199264, API Key ID: 3
[INFO] 2025/08/21 17:51:13 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 104643, cost: $0.199264
[INFO] 2025/08/21 17:51:18 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:51:18 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:51:18 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:51:26 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.176141
[INFO] 2025/08/21 17:51:26 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.176141, API Key ID: 3
[INFO] 2025/08/21 17:51:26 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 105077, cost: $0.176141
[INFO] 2025/08/21 17:51:30 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:51:30 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:51:30 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:51:39 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.171442
[INFO] 2025/08/21 17:51:39 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.171442, API Key ID: 3
[INFO] 2025/08/21 17:51:39 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 105256, cost: $0.171442
[INFO] 2025/08/21 17:51:43 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:51:43 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:51:43 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:51:47 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:51:47 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:51:47 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:51:54 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.173109
[INFO] 2025/08/21 17:51:54 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.173109, API Key ID: 3
[INFO] 2025/08/21 17:51:54 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 105477, cost: $0.173109
[INFO] 2025/08/21 17:52:23 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:52:23 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:52:23 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:52:31 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 17:52:31 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.172462
[INFO] 2025/08/21 17:52:31 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.172462, API Key ID: 3
[INFO] 2025/08/21 17:52:31 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 105559, cost: $0.172462
[INFO] 2025/08/21 17:52:54 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:52:54 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:52:54 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:53:02 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.239197
[INFO] 2025/08/21 17:53:02 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.239197, API Key ID: 3
[INFO] 2025/08/21 17:53:02 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 109274, cost: $0.239197
[INFO] 2025/08/21 17:53:03 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:53:03 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:53:03 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:53:14 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.193007
[INFO] 2025/08/21 17:53:14 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.193007, API Key ID: 3
[INFO] 2025/08/21 17:53:14 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 109831, cost: $0.193007
[INFO] 2025/08/21 17:53:46 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:53:46 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:53:46 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:53:54 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.184708
[INFO] 2025/08/21 17:53:54 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.184708, API Key ID: 3
[INFO] 2025/08/21 17:53:54 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 110207, cost: $0.184708
[INFO] 2025/08/21 17:54:14 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:54:14 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:54:14 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:54:23 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.196868
[INFO] 2025/08/21 17:54:23 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.196868, API Key ID: 3
[INFO] 2025/08/21 17:54:23 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 111189, cost: $0.196868
[INFO] 2025/08/21 17:54:23 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:54:23 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:54:23 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:54:44 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:54:44 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:54:44 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:54:54 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.196993
[INFO] 2025/08/21 17:54:54 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.196993, API Key ID: 3
[INFO] 2025/08/21 17:54:54 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 111713, cost: $0.196993
[INFO] 2025/08/21 17:55:15 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:55:15 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:55:15 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:55:28 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $1.867502
[INFO] 2025/08/21 17:55:28 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $1.867502, API Key ID: 3
[INFO] 2025/08/21 17:55:28 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 112064, cost: $1.867502
[INFO] 2025/08/21 17:56:09 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:56:09 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:56:09 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:56:17 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.191224
[INFO] 2025/08/21 17:56:17 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.191224, API Key ID: 3
[INFO] 2025/08/21 17:56:17 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 112459, cost: $0.191224
[INFO] 2025/08/21 17:56:40 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:56:40 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:56:40 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:57:01 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.231758
[INFO] 2025/08/21 17:57:01 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.231758, API Key ID: 3
[INFO] 2025/08/21 17:57:01 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 113283, cost: $0.231758
[INFO] 2025/08/21 17:57:01 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:57:01 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:57:01 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:57:13 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.228049
[INFO] 2025/08/21 17:57:13 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.228049, API Key ID: 3
[INFO] 2025/08/21 17:57:13 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 115042, cost: $0.228049
[INFO] 2025/08/21 17:57:13 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:57:13 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:57:13 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:57:22 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.191944
[INFO] 2025/08/21 17:57:22 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.191944, API Key ID: 3
[INFO] 2025/08/21 17:57:22 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 115298, cost: $0.191944
[INFO] 2025/08/21 17:57:22 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:57:22 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:57:22 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:57:30 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.190704
[INFO] 2025/08/21 17:57:30 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.190704, API Key ID: 3
[INFO] 2025/08/21 17:57:30 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 115496, cost: $0.190704
[INFO] 2025/08/21 17:57:31 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:57:31 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:57:31 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:57:40 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 17:57:40 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.189873
[INFO] 2025/08/21 17:57:40 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.189873, API Key ID: 3
[INFO] 2025/08/21 17:57:40 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 115686, cost: $0.189873
[INFO] 2025/08/21 17:57:44 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:57:44 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:57:44 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:57:52 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.195747
[INFO] 2025/08/21 17:57:52 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.195747, API Key ID: 3
[INFO] 2025/08/21 17:57:52 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 116261, cost: $0.195747
[INFO] 2025/08/21 17:57:59 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:57:59 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:57:59 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:58:08 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.192598
[INFO] 2025/08/21 17:58:08 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.192598, API Key ID: 3
[INFO] 2025/08/21 17:58:08 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 116496, cost: $0.192598
[INFO] 2025/08/21 17:58:19 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:58:19 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:58:19 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:58:30 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.190947
[INFO] 2025/08/21 17:58:30 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.190947, API Key ID: 3
[INFO] 2025/08/21 17:58:30 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 117138, cost: $0.190947
[INFO] 2025/08/21 17:59:17 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:59:17 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:59:17 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 17:59:52 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $2.020165
[INFO] 2025/08/21 17:59:52 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $2.020165, API Key ID: 3
[INFO] 2025/08/21 17:59:52 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 117932, cost: $2.020165
[INFO] 2025/08/21 17:59:52 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 17:59:52 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 17:59:52 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 18:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 18:00:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 18:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 18:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 18:00:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 18:00:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 18:00:00 logger.go:35: Account max101 (ID: 3) token expires in 7h50m2s, no need to refresh yet
[INFO] 2025/08/21 18:00:00 logger.go:35: Claude accounts token refresh check task completed in 2.7341ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 18:00:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 18:00:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 18:00:01 logger.go:35: Abnormal accounts recovery task completed in 1.5268227s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 18:00:04 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.210814
[INFO] 2025/08/21 18:00:04 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.210814, API Key ID: 3
[INFO] 2025/08/21 18:00:04 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 118673, cost: $0.210814
[INFO] 2025/08/21 18:00:45 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:00:45 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:00:45 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:01:08 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $2.034212
[INFO] 2025/08/21 18:01:08 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $2.034212, API Key ID: 3
[INFO] 2025/08/21 18:01:08 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 119193, cost: $2.034212
[INFO] 2025/08/21 18:02:24 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:02:24 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:02:24 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:02:28 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:02:28 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:02:28 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:02:38 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.210417
[INFO] 2025/08/21 18:02:38 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.210417, API Key ID: 3
[INFO] 2025/08/21 18:02:38 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 119412, cost: $0.210417
[INFO] 2025/08/21 18:03:05 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:03:05 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:03:05 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:03:19 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 18:03:19 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.246881
[INFO] 2025/08/21 18:03:19 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.246881, API Key ID: 3
[INFO] 2025/08/21 18:03:19 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 119723, cost: $0.246881
[INFO] 2025/08/21 18:03:20 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:03:20 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:03:20 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:03:38 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.240712
[INFO] 2025/08/21 18:03:38 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.240712, API Key ID: 3
[INFO] 2025/08/21 18:03:38 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 120625, cost: $0.240712
[INFO] 2025/08/21 18:03:38 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:03:38 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:03:38 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:03:55 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.245963
[INFO] 2025/08/21 18:03:55 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.245963, API Key ID: 3
[INFO] 2025/08/21 18:03:55 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 122086, cost: $0.245963
[INFO] 2025/08/21 18:03:55 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:03:55 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:03:55 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:04:43 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.206893
[INFO] 2025/08/21 18:04:43 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.206893, API Key ID: 3
[INFO] 2025/08/21 18:04:43 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 122895, cost: $0.206893
[INFO] 2025/08/21 18:10:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 18:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 18:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 18:10:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 18:10:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 18:10:00 logger.go:35: Account max101 (ID: 3) token expires in 7h40m2s, no need to refresh yet
[INFO] 2025/08/21 18:10:00 logger.go:35: Claude accounts token refresh check task completed in 2.7859ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 18:11:34 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:11:34 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:11:34 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:11:48 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 18:11:48 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $2.084945
[INFO] 2025/08/21 18:11:48 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $2.084945, API Key ID: 3
[INFO] 2025/08/21 18:11:48 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 121874, cost: $2.084945
[INFO] 2025/08/21 18:17:03 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:17:03 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:17:03 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:17:09 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 18:17:09 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $2.085433
[INFO] 2025/08/21 18:17:09 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $2.085433, API Key ID: 3
[INFO] 2025/08/21 18:17:09 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 121882, cost: $2.085433
[INFO] 2025/08/21 18:18:04 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:18:04 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:18:04 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:18:12 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.229739
[INFO] 2025/08/21 18:18:12 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.229739, API Key ID: 3
[INFO] 2025/08/21 18:18:12 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 121932, cost: $0.229739
[INFO] 2025/08/21 18:18:22 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:18:22 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:18:22 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:19:00 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.305032
[INFO] 2025/08/21 18:19:00 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.305032, API Key ID: 3
[INFO] 2025/08/21 18:19:00 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 123594, cost: $0.305032
[INFO] 2025/08/21 18:19:31 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:19:31 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:19:31 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:19:55 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $2.127677
[INFO] 2025/08/21 18:19:55 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $2.127677, API Key ID: 3
[INFO] 2025/08/21 18:19:55 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 124614, cost: $2.127677
[INFO] 2025/08/21 18:19:55 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:19:55 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:19:55 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 18:20:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 18:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 18:20:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 18:20:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 18:20:00 logger.go:35: Account max101 (ID: 3) token expires in 7h30m2s, no need to refresh yet
[INFO] 2025/08/21 18:20:00 logger.go:35: Claude accounts token refresh check task completed in 1.7541ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 18:20:02 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.211092
[INFO] 2025/08/21 18:20:02 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.211092, API Key ID: 3
[INFO] 2025/08/21 18:20:02 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 125126, cost: $0.211092
[INFO] 2025/08/21 18:20:47 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:20:47 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:20:47 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:21:01 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.224809
[INFO] 2025/08/21 18:21:01 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.224809, API Key ID: 3
[INFO] 2025/08/21 18:21:01 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 125203, cost: $0.224809
[INFO] 2025/08/21 18:21:05 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:21:05 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:21:05 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:21:29 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.192432
[INFO] 2025/08/21 18:21:29 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.192432, API Key ID: 3
[INFO] 2025/08/21 18:21:29 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 125235, cost: $0.192432
[INFO] 2025/08/21 18:21:42 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:21:42 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:21:42 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:22:00 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.191397
[INFO] 2025/08/21 18:22:00 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.191397, API Key ID: 3
[INFO] 2025/08/21 18:22:00 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 125161, cost: $0.191397
[INFO] 2025/08/21 18:23:23 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:23:23 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:23:23 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:23:43 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/21 18:23:43 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.239796
[INFO] 2025/08/21 18:23:43 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.239796, API Key ID: 3
[INFO] 2025/08/21 18:23:43 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 125003, cost: $0.239796
[INFO] 2025/08/21 18:23:55 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:23:55 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:23:55 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:24:05 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.187669
[INFO] 2025/08/21 18:24:05 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.187669, API Key ID: 3
[INFO] 2025/08/21 18:24:05 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 125005, cost: $0.187669
[INFO] 2025/08/21 18:24:22 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:24:22 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:24:22 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:24:45 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.188197
[INFO] 2025/08/21 18:24:45 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.188197, API Key ID: 3
[INFO] 2025/08/21 18:24:45 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 125014, cost: $0.188197
[INFO] 2025/08/21 18:24:49 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:24:49 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:24:49 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:25:17 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.188126
[INFO] 2025/08/21 18:25:17 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.188126, API Key ID: 3
[INFO] 2025/08/21 18:25:17 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 125033, cost: $0.188126
[INFO] 2025/08/21 18:25:38 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:25:38 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:25:38 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:26:09 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.188239
[INFO] 2025/08/21 18:26:09 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.188239, API Key ID: 3
[INFO] 2025/08/21 18:26:09 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 125042, cost: $0.188239
[INFO] 2025/08/21 18:26:35 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:26:35 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:26:35 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:27:21 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.188168
[INFO] 2025/08/21 18:27:21 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.188168, API Key ID: 3
[INFO] 2025/08/21 18:27:21 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 125061, cost: $0.188168
[INFO] 2025/08/21 18:28:11 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/21 18:28:11 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/21 18:28:11 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/21 18:28:33 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.187756
[INFO] 2025/08/21 18:28:33 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.187756, API Key ID: 3
[INFO] 2025/08/21 18:28:33 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 125063, cost: $0.187756
[INFO] 2025/08/21 18:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 18:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 18:30:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 18:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 18:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 18:30:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 18:30:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 18:30:00 logger.go:35: Account max101 (ID: 3) token expires in 7h20m2s, no need to refresh yet
[INFO] 2025/08/21 18:30:00 logger.go:35: Claude accounts token refresh check task completed in 19.2807ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 18:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 18:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 18:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.5677956s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 18:49:11 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 18:49:12 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 18:49:12 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 18:49:12 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 18:49:12 logger.go:35: Account max101 (ID: 3) token expires in 7h0m50s, no need to refresh yet
[INFO] 2025/08/21 18:49:12 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 18:49:13 logger.go:35: Claude accounts token refresh check task completed in 1.9069052s. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 21:25:47 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 21:25:47 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 21:25:47 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 21:25:47 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 21:25:47 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 21:25:47 logger.go:35: Account max101 (ID: 3) token expires in 4h24m15s, no need to refresh yet
[INFO] 2025/08/21 21:25:47 logger.go:35: Claude accounts token refresh check task completed in 238.4339ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 21:26:35 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 21:26:35 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 21:26:35 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 21:26:35 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 21:26:35 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 21:26:35 logger.go:35: Account max101 (ID: 3) token expires in 4h23m27s, no need to refresh yet
[INFO] 2025/08/21 21:26:35 logger.go:35: Claude accounts token refresh check task completed in 1.634ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 21:26:35 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 21:26:35 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 21:26:36 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 21:26:36 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 21:26:36 logger.go:35: Abnormal accounts recovery task completed in 1.3915001s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 21:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/21 21:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/21 21:30:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/21 21:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/21 21:30:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/21 21:30:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/21 21:30:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/21 21:30:00 logger.go:35: Account max101 (ID: 3) token expires in 4h20m2s, no need to refresh yet
[INFO] 2025/08/21 21:30:00 logger.go:35: Claude accounts token refresh check task completed in 2.7578ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/21 21:30:01 logger.go:35: Testing account max车号098 (ID: 1) with status code: 401, error: 
[INFO] 2025/08/21 21:30:01 logger.go:35: Account max车号098 (ID: 1) test failed with status code: 401
[INFO] 2025/08/21 21:30:01 logger.go:35: Abnormal accounts recovery task completed in 1.0606406s. Recovered: 0, Failed: 1
[INFO] 2025/08/21 21:34:30 logger.go:35: Shutting down server...
[INFO] 2025/08/21 21:34:30 logger.go:35: Cron service stopped
[INFO] 2025/08/21 21:34:30 logger.go:35: Server stopped gracefully
[INFO] 2025/08/21 21:34:30 logger.go:35: Cron service stopped
[INFO] 2025/08/22 08:43:10 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/22 08:43:11 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/22 08:43:11 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/22 08:43:11 logger.go:35: Database initialized successfully
[INFO] 2025/08/22 08:43:11 logger.go:35: Redis connection established
[INFO] 2025/08/22 08:43:11 logger.go:35: Cron service started successfully
[INFO] 2025/08/22 08:43:11 logger.go:35: Server starting on port 8088
[INFO] 2025/08/22 08:45:47 logger.go:35: [API_KEY_AUTH] API Key: sk-7**********************6db3 (masked), User ID: 4
[INFO] 2025/08/22 08:45:47 logger.go:35: [QUOTA_CHECK] Checking quota for User ID: 4, Cost: $0.500000
[INFO] 2025/08/22 08:45:47 logger.go:35: [QUOTA_CHECK] Quota check passed for User ID: 4, Type: usage_count
[INFO] 2025/08/22 08:45:52 logger.go:35: Pricing cache refreshed with 9 models
[INFO] 2025/08/22 08:45:52 logger.go:35: [SAVE_REQUEST_LOG] Creating deduction request for User ID: 4, API Key ID: 3, Cost: $0.083203
[INFO] 2025/08/22 08:45:52 logger.go:35: [BILLING_DEDUCTION] Starting deduction for User ID: 4, Cost: $0.083203, API Key ID: 3
[INFO] 2025/08/22 08:45:52 logger.go:35: Billing processed successfully for user 4, model: claude-opus-4-1-20250805, tokens: 14786, cost: $0.083203
[INFO] 2025/08/22 08:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 08:50:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 08:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 08:50:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/22 08:50:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/22 08:50:00 logger.go:35: Account max101 (ID: 3) token expires in 7h55m48s, no need to refresh yet
[INFO] 2025/08/22 08:50:00 logger.go:35: Claude accounts token refresh check task completed in 3.4051ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/22 08:55:20 logger.go:35: Shutting down server...
[INFO] 2025/08/22 08:55:20 logger.go:35: Cron service stopped
[INFO] 2025/08/22 08:55:20 logger.go:35: Server stopped gracefully
[INFO] 2025/08/22 08:55:20 logger.go:35: Cron service stopped
[INFO] 2025/08/22 11:19:07 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/22 11:19:07 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/22 11:19:07 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/22 11:19:07 logger.go:35: Database initialized successfully
[INFO] 2025/08/22 11:19:07 logger.go:35: Redis connection established
[INFO] 2025/08/22 11:19:07 logger.go:35: Cron service started successfully
[INFO] 2025/08/22 11:19:07 logger.go:35: Server starting on port 8088
[INFO] 2025/08/22 11:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 11:20:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 11:20:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/22 11:20:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/22 11:20:00 logger.go:35: Account max101 (ID: 3) token expires in 5h25m48s, no need to refresh yet
[INFO] 2025/08/22 11:20:00 logger.go:35: Claude accounts token refresh check task completed in 1.8403ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/22 11:20:00 logger.go:35: No rate limited accounts found for checking
[ERROR] 2025/08/22 11:20:25 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/22 11:20:26 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/22 11:20:27 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/22 11:20:28 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[INFO] 2025/08/22 11:23:51 logger.go:35: Shutting down server...
[INFO] 2025/08/22 11:23:51 logger.go:35: Cron service stopped
[INFO] 2025/08/22 11:23:51 logger.go:35: Server stopped gracefully
[INFO] 2025/08/22 11:23:51 logger.go:35: Cron service stopped
[INFO] 2025/08/22 11:32:41 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/22 11:32:41 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/22 11:32:41 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/22 11:32:41 logger.go:35: Database initialized successfully
[INFO] 2025/08/22 11:32:41 logger.go:35: Redis connection established
[INFO] 2025/08/22 11:32:41 logger.go:35: Cron service started successfully
[INFO] 2025/08/22 11:32:41 logger.go:35: Server starting on port 8088
[INFO] 2025/08/22 11:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 11:40:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 11:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 11:40:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/22 11:40:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/22 11:40:00 logger.go:35: Account max101 (ID: 3) token expires in 5h5m48s, no need to refresh yet
[INFO] 2025/08/22 11:40:00 logger.go:35: Claude accounts token refresh check task completed in 13.9254ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/22 11:50:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 11:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 11:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 11:50:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/22 11:50:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/22 11:50:00 logger.go:35: Account max101 (ID: 3) token expires in 4h55m48s, no need to refresh yet
[INFO] 2025/08/22 11:50:00 logger.go:35: Claude accounts token refresh check task completed in 2.5993ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/22 12:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 12:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/22 12:00:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 12:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 12:00:00 logger.go:35: Found 1 abnormal accounts to test
[INFO] 2025/08/22 12:00:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/22 12:00:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/22 12:00:00 logger.go:35: Account max101 (ID: 3) token expires in 4h45m48s, no need to refresh yet
[INFO] 2025/08/22 12:00:00 logger.go:35: Claude accounts token refresh check task completed in 31.9273ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/22 12:00:00 logger.go:35: Testing account max车号098 (ID: 1) with status code: 500, error: Request failed: Post "https://api.anthropic.com/v1/messages": Proxy Authentication Required
[INFO] 2025/08/22 12:00:00 logger.go:35: Account max车号098 (ID: 1) test failed: Request failed: Post "https://api.anthropic.com/v1/messages": Proxy Authentication Required
[INFO] 2025/08/22 12:00:00 logger.go:35: Abnormal accounts recovery task completed in 713.0349ms. Recovered: 0, Failed: 1
[INFO] 2025/08/22 12:10:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 12:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 12:10:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/22 12:10:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/22 12:10:00 logger.go:35: Account max101 (ID: 3) token expires in 4h35m48s, no need to refresh yet
[INFO] 2025/08/22 12:10:00 logger.go:35: Claude accounts token refresh check task completed in 18.3968ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/22 12:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 12:20:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 12:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 12:20:00 logger.go:35: Found 2 Claude accounts to check for token refresh
[INFO] 2025/08/22 12:20:00 logger.go:35: Account max车号098 (ID: 1) has no expiry time, skipping
[INFO] 2025/08/22 12:20:00 logger.go:35: Account max101 (ID: 3) token expires in 4h25m48s, no need to refresh yet
[INFO] 2025/08/22 12:20:00 logger.go:35: Claude accounts token refresh check task completed in 2.2488ms. Refreshed: 0, Skipped: 2, Failed: 0
[INFO] 2025/08/22 12:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 12:22:05 logger.go:35: Shutting down server...
[INFO] 2025/08/22 12:22:05 logger.go:35: Cron service stopped
[INFO] 2025/08/22 12:22:05 logger.go:35: Server stopped gracefully
[INFO] 2025/08/22 12:22:05 logger.go:35: Cron service stopped
[INFO] 2025/08/22 12:22:16 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/22 12:22:16 logger.go:35: Initializing model configurations from hardcoded data...
[INFO] 2025/08/22 12:22:16 logger.go:35: Model configurations initialized successfully
[INFO] 2025/08/22 12:22:16 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/22 12:22:16 logger.go:35: Database initialized successfully
[INFO] 2025/08/22 12:22:16 logger.go:35: Redis connection established
[INFO] 2025/08/22 12:22:16 logger.go:35: Cron service started successfully
[INFO] 2025/08/22 12:22:16 logger.go:35: Server starting on port 8088
[INFO] 2025/08/22 12:22:17 logger.go:35: Default admin user created: li904338203/jie1306105459
[ERROR] 2025/08/22 12:23:10 logger.go:43: 邮件发送失败: SMTP认证失败: 535 Login fail. Account is abnormal, service is not open, password is incorrect, login frequency limited, or system is busy. More information at https://help.mail.qq.com/detail/108/1023
[ERROR] 2025/08/22 12:23:10 logger.go:43: 发送验证码失败: 邮件发送失败: SMTP认证失败: 535 Login fail. Account is abnormal, service is not open, password is incorrect, login frequency limited, or system is busy. More information at https://help.mail.qq.com/detail/108/1023
[INFO] 2025/08/22 12:23:11 logger.go:35: 邮件发送被缓存跳过: 1@1.com
[INFO] 2025/08/22 12:23:11 logger.go:35: 验证码发送成功: 1@1.com, 类型: email_verification
[INFO] 2025/08/22 12:23:20 logger.go:35: 验证码验证失败: 1@1.com, 输入: 111, 期望: 853869
[INFO] 2025/08/22 12:23:21 logger.go:35: 验证码验证失败: 1@1.com, 输入: 111, 期望: 853869
[INFO] 2025/08/22 12:23:22 logger.go:35: 验证码验证失败: 1@1.com, 输入: 111, 期望: 853869
[INFO] 2025/08/22 12:23:23 logger.go:35: 验证码验证失败: 1@1.com, 输入: 111, 期望: 853869
[INFO] 2025/08/22 12:23:23 logger.go:35: 验证码验证成功: 1@1.com, 类型: email_verification
[ERROR] 2025/08/22 12:23:46 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/22 12:23:47 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/22 12:23:48 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/22 12:23:49 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/22 12:24:25 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/22 12:24:26 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/22 12:24:27 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[ERROR] 2025/08/22 12:24:28 logger.go:43: Failed to get user billing stats: failed to get user balance: record not found
[INFO] 2025/08/22 12:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/22 12:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 12:30:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 12:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/22 12:30:00 logger.go:35: No Claude accounts found for token refresh checking
[INFO] 2025/08/22 12:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 12:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 12:40:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 12:40:00 logger.go:35: No Claude accounts found for token refresh checking
[INFO] 2025/08/22 12:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 12:50:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 12:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 12:50:00 logger.go:35: No Claude accounts found for token refresh checking
[INFO] 2025/08/22 12:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 13:00:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/22 13:00:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 13:00:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 13:00:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/22 13:00:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 13:00:00 logger.go:35: No Claude accounts found for token refresh checking
[INFO] 2025/08/22 13:10:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 13:10:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 13:10:00 logger.go:35: No Claude accounts found for token refresh checking
[INFO] 2025/08/22 13:10:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 13:20:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 13:20:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 13:20:00 logger.go:35: No Claude accounts found for token refresh checking
[INFO] 2025/08/22 13:20:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 13:30:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 13:30:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 13:30:00 logger.go:35: Starting abnormal accounts recovery task
[INFO] 2025/08/22 13:30:00 logger.go:35: No Claude accounts found for token refresh checking
[INFO] 2025/08/22 13:30:00 logger.go:35: No abnormal accounts found for recovery testing
[INFO] 2025/08/22 13:30:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 13:30:46 logger.go:35: Shutting down server...
[INFO] 2025/08/22 13:30:46 logger.go:35: Cron service stopped
[INFO] 2025/08/22 13:30:46 logger.go:35: Server stopped gracefully
[INFO] 2025/08/22 13:30:46 logger.go:35: Cron service stopped
[INFO] 2025/08/22 13:30:53 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/22 13:30:53 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/22 13:30:53 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/22 13:30:53 logger.go:35: Database initialized successfully
[INFO] 2025/08/22 13:30:53 logger.go:35: Redis connection established
[INFO] 2025/08/22 13:30:53 logger.go:35: Cron service started successfully
[INFO] 2025/08/22 13:30:53 logger.go:35: Server starting on port 8088
[ERROR] 2025/08/22 13:31:39 logger.go:43: 邮件发送失败: SMTP认证失败: 535 Login fail. Account is abnormal, service is not open, password is incorrect, login frequency limited, or system is busy. More information at https://help.mail.qq.com/detail/108/1023
[ERROR] 2025/08/22 13:31:39 logger.go:43: 发送验证码失败: 邮件发送失败: SMTP认证失败: 535 Login fail. Account is abnormal, service is not open, password is incorrect, login frequency limited, or system is busy. More information at https://help.mail.qq.com/detail/108/1023
[INFO] 2025/08/22 13:31:40 logger.go:35: 邮件发送被缓存跳过: lijie2@lijie2.com
[INFO] 2025/08/22 13:31:40 logger.go:35: 验证码发送成功: lijie2@lijie2.com, 类型: email_verification
[INFO] 2025/08/22 13:31:43 logger.go:35: 验证码验证失败: lijie2@lijie2.com, 输入: 1, 期望: 434188
[INFO] 2025/08/22 13:31:44 logger.go:35: 验证码验证失败: lijie2@lijie2.com, 输入: 1, 期望: 434188
[INFO] 2025/08/22 13:31:45 logger.go:35: 验证码验证失败: lijie2@lijie2.com, 输入: 1, 期望: 434188
[INFO] 2025/08/22 13:31:46 logger.go:35: 验证码验证失败: lijie2@lijie2.com, 输入: 1, 期望: 434188
[INFO] 2025/08/22 13:31:47 logger.go:35: 验证码验证成功: lijie2@lijie2.com, 类型: email_verification
[INFO] 2025/08/22 13:36:33 logger.go:35: Shutting down server...
[INFO] 2025/08/22 13:36:33 logger.go:35: Cron service stopped
[INFO] 2025/08/22 13:36:33 logger.go:35: Server stopped gracefully
[INFO] 2025/08/22 13:36:33 logger.go:35: Cron service stopped
[INFO] 2025/08/22 13:36:43 logger.go:35: Claude Code Relay v1.0.0 started
[INFO] 2025/08/22 13:36:44 logger.go:35: Model configurations already exist, skipping initialization
[INFO] 2025/08/22 13:36:44 logger.go:35: Model pricing service initialized with database adapter
[INFO] 2025/08/22 13:36:44 logger.go:35: Database initialized successfully
[INFO] 2025/08/22 13:36:44 logger.go:35: Redis connection established
[INFO] 2025/08/22 13:36:44 logger.go:35: Cron service started successfully
[INFO] 2025/08/22 13:36:44 logger.go:35: Server starting on port 8088
[INFO] 2025/08/22 13:37:03 logger.go:35: 邮件发送成功: 13127681336@163.com
[INFO] 2025/08/22 13:37:03 logger.go:35: 验证码发送成功: 13127681336@163.com, 类型: email_verification
[INFO] 2025/08/22 13:37:32 logger.go:35: 验证码验证成功: 13127681336@163.com, 类型: email_verification
[INFO] 2025/08/22 13:40:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 13:40:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 13:40:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 13:40:00 logger.go:35: No Claude accounts found for token refresh checking
[INFO] 2025/08/22 13:50:00 logger.go:35: Starting Claude accounts token refresh check task
[INFO] 2025/08/22 13:50:00 logger.go:35: Starting rate limit expired accounts check task
[INFO] 2025/08/22 13:50:00 logger.go:35: No Claude accounts found for token refresh checking
[INFO] 2025/08/22 13:50:00 logger.go:35: No rate limited accounts found for checking
[INFO] 2025/08/22 13:59:13 logger.go:35: Shutting down server...
[INFO] 2025/08/22 13:59:13 logger.go:35: Cron service stopped
[INFO] 2025/08/22 13:59:13 logger.go:35: Server stopped gracefully
[INFO] 2025/08/22 13:59:13 logger.go:35: Cron service stopped
